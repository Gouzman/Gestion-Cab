const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TaskManager-Z3yz7hlj.js","assets/vendor-supabase-CR9Q8AJ3.js","assets/sentry-CxmcrLP_.js","assets/vendor-react-CWhE6-Gf.js","assets/label-fotUBuUV.js","assets/vendor-ui-BBpB3Q8s.js","assets/filePreviewUtils-C0dV8HzJ.js","assets/ConfirmationModal-By6tTfcV.js","assets/vendor-charts-BY8kkf7J.js","assets/ClientManager-D1IYnmpA.js","assets/clientUtils-CA0eKa9v.js","assets/CaseManager-T1RB9SWH.js","assets/Calendar-TzoW7-ay.js","assets/index-DpPMW0AV.js","assets/Reports-B6J35RxQ.js","assets/TeamManager-PK8GoQSc.js","assets/DocumentManager-DULEIAZ4.js","assets/Settings-DIrrYcXY.js","assets/permissionsUtils-ZkRZ7LKG.js","assets/BillingManager-BV52GFZd.js"])))=>i.map(i=>d[i]);
import{R as e,f as s,r as o,P as n,H as r,g as t,h as i}from"./vendor-react-CWhE6-Gf.js";import{c as a,_ as l}from"./vendor-supabase-CR9Q8AJ3.js";import{c}from"./vendor-charts-BY8kkf7J.js";import{V as m,R as u,A as d,C as b,X as p,T as N,D as x,P as v,S as f,L as g,a as h,U as D,F as j,b as w,c as C,d as y,B as E,e as z,m as V,f as U,g as G,h as S,i as _,j as k,k as F,l as L,n as P,o as A,p as I,q as T,r as M,s as $,t as R,K as q,H as O,u as B,v as W,w as J,E as H,x as X}from"./vendor-ui-BBpB3Q8s.js";import{s as K,E as Y}from"./sentry-CxmcrLP_.js";function Z(){for(var e,s,o=0,n="";o<arguments.length;)(e=arguments[o++])&&(s=Q(e))&&(n&&(n+=" "),n+=s);return n}function Q(e){if("string"==typeof e)return e;for(var s,o="",n=0;n<e.length;n++)e[n]&&(s=Q(e[n]))&&(o&&(o+=" "),o+=s);return o}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();function ee(e){var s=function(e){var s=e.theme,o=e.prefix,n={nextPart:new Map,validators:[]},r=function(e,s){if(!s)return e;return e.map(function(e){return[e[0],e[1].map(function(e){return"string"==typeof e?s+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(function(e){var o=e[0],n=e[1];return[s+o,n]})):e})]})}(Object.entries(e.classGroups),o);return r.forEach(function(e){var o=e[0];ne(e[1],n,o,s)}),n}(e),o=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,r=void 0===n?{}:n;return{getClassGroupId:function(e){var o=e.split("-");return""===o[0]&&1!==o.length&&o.shift(),se(o,s)||function(e){if(oe.test(e)){var s=oe.exec(e)[1],o=s?.substring(0,s.indexOf(":"));if(o)return"arbitrary.."+o}}(e)},getConflictingClassGroupIds:function(e,s){var n=o[e]||[];return s&&r[e]?[].concat(n,r[e]):n}}}function se(e,s){if(0===e.length)return s.classGroupId;var o=e[0],n=s.nextPart.get(o),r=n?se(e.slice(1),n):void 0;if(r)return r;if(0!==s.validators.length){var t=e.join("-");return s.validators.find(function(e){return(0,e.validator)(t)})?.classGroupId}}var oe=/^\[(.+)\]$/;function ne(e,s,o,n){e.forEach(function(e){if("string"!=typeof e){if("function"==typeof e)return e.isThemeGetter?void ne(e(n),s,o,n):void s.validators.push({validator:e,classGroupId:o});Object.entries(e).forEach(function(e){var r=e[0];ne(e[1],re(s,r),o,n)})}else{(""===e?s:re(s,e)).classGroupId=o}})}function re(e,s){var o=e;return s.split("-").forEach(function(e){o.nextPart.has(e)||o.nextPart.set(e,{nextPart:new Map,validators:[]}),o=o.nextPart.get(e)}),o}function te(e){if(e<1)return{get:function(){},set:function(){}};var s=0,o=new Map,n=new Map;function r(r,t){o.set(r,t),++s>e&&(s=0,n=o,o=new Map)}return{get:function(e){var s=o.get(e);return void 0!==s?s:void 0!==(s=n.get(e))?(r(e,s),s):void 0},set:function(e,s){o.has(e)?o.set(e,s):r(e,s)}}}function ie(e){var s=e.separator||":",o=1===s.length,n=s[0],r=s.length;return function(e){for(var t,i=[],a=0,l=0,c=0;c<e.length;c++){var m=e[c];if(0===a){if(m===n&&(o||e.slice(c,c+r)===s)){i.push(e.slice(l,c)),l=c+r;continue}if("/"===m){t=c;continue}}"["===m?a++:"]"===m&&a--}var u=0===i.length?e:e.substring(l),d=u.startsWith("!");return{modifiers:i,hasImportantModifier:d,baseClassName:d?u.substring(1):u,maybePostfixModifierPosition:t&&t>l?t-l:void 0}}}var ae=/\s+/;function le(){for(var e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];var n,r,t,i=function(e){var o=s[0],l=s.slice(1).reduce(function(e,s){return s(e)},o());return n=function(e){return{cache:te(e.cacheSize),splitModifiers:ie(e),...ee(e)}}(l),r=n.cache.get,t=n.cache.set,i=a,a(e)};function a(e){var s=r(e);if(s)return s;var o=function(e,s){var o=s.splitModifiers,n=s.getClassGroupId,r=s.getConflictingClassGroupIds,t=new Set;return e.trim().split(ae).map(function(e){var s=o(e),r=s.modifiers,t=s.hasImportantModifier,i=s.baseClassName,a=s.maybePostfixModifierPosition,l=n(a?i.substring(0,a):i),c=Boolean(a);if(!l){if(!a)return{isTailwindClass:!1,originalClassName:e};if(!(l=n(i)))return{isTailwindClass:!1,originalClassName:e};c=!1}var m=function(e){if(e.length<=1)return e;var s=[],o=[];return e.forEach(function(e){"["===e[0]?(s.push.apply(s,o.sort().concat([e])),o=[]):o.push(e)}),s.push.apply(s,o.sort()),s}(r).join(":");return{isTailwindClass:!0,modifierId:t?m+"!":m,classGroupId:l,originalClassName:e,hasPostfixModifier:c}}).reverse().filter(function(e){if(!e.isTailwindClass)return!0;var s=e.modifierId,o=e.classGroupId,n=e.hasPostfixModifier,i=s+o;return!t.has(i)&&(t.add(i),r(o,n).forEach(function(e){return t.add(s+e)}),!0)}).reverse().map(function(e){return e.originalClassName}).join(" ")}(e,n);return t(e,o),o}return function(){return i(Z.apply(null,arguments))}}function ce(e){var s=function(s){return s[e]||[]};return s.isThemeGetter=!0,s}var me=/^\[(?:([a-z-]+):)?(.+)\]$/i,ue=/^\d+\/\d+$/,de=new Set(["px","full","screen"]),be=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ne=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function xe(e){return je(e)||de.has(e)||ue.test(e)||ve(e)}function ve(e){return Ue(e,"length",Ge)}function fe(e){return Ue(e,"size",Se)}function ge(e){return Ue(e,"position",Se)}function he(e){return Ue(e,"url",_e)}function De(e){return Ue(e,"number",je)}function je(e){return!Number.isNaN(Number(e))}function we(e){return e.endsWith("%")&&je(e.slice(0,-1))}function Ce(e){return ke(e)||Ue(e,"number",ke)}function ye(e){return me.test(e)}function Ee(){return!0}function ze(e){return be.test(e)}function Ve(e){return Ue(e,"",Fe)}function Ue(e,s,o){var n=me.exec(e);return!!n&&(n[1]?n[1]===s:o(n[2]))}function Ge(e){return pe.test(e)}function Se(){return!1}function _e(e){return e.startsWith("url(")}function ke(e){return Number.isInteger(Number(e))}function Fe(e){return Ne.test(e)}function Le(){var e=ce("colors"),s=ce("spacing"),o=ce("blur"),n=ce("brightness"),r=ce("borderColor"),t=ce("borderRadius"),i=ce("borderSpacing"),a=ce("borderWidth"),l=ce("contrast"),c=ce("grayscale"),m=ce("hueRotate"),u=ce("invert"),d=ce("gap"),b=ce("gradientColorStops"),p=ce("gradientColorStopPositions"),N=ce("inset"),x=ce("margin"),v=ce("opacity"),f=ce("padding"),g=ce("saturate"),h=ce("scale"),D=ce("sepia"),j=ce("skew"),w=ce("space"),C=ce("translate"),y=function(){return["auto",ye,s]},E=function(){return[ye,s]},z=function(){return["",xe]},V=function(){return["auto",je,ye]},U=function(){return["","0",ye]},G=function(){return[je,De]},S=function(){return[je,ye]};return{cacheSize:500,theme:{colors:[Ee],spacing:[xe],blur:["none","",ze,ye],brightness:G(),borderColor:[e],borderRadius:["none","","full",ze,ye],borderSpacing:E(),borderWidth:z(),contrast:G(),grayscale:U(),hueRotate:S(),invert:U(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[we,ve],inset:y(),margin:y(),opacity:G(),padding:E(),saturate:G(),scale:G(),sepia:U(),skew:S(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[ze]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[ye])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ce]}],basis:[{basis:y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Ce]}],"grid-cols":[{"grid-cols":[Ee]}],"col-start-end":[{col:["auto",{span:["full",Ce]},ye]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Ee]}],"row-start-end":[{row:["auto",{span:[Ce]},ye]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal"].concat(["start","end","center","between","around","evenly","stretch"])}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[w]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[w]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ye,s]}],"min-w":[{"min-w":["min","max","fit",ye,xe]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ze]},ze,ye]}],h:[{h:[ye,s,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ye,xe]}],"max-h":[{"max-h":[ye,s,"min","max","fit"]}],"font-size":[{text:["base",ze,ve]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",De]}],"font-family":[{font:[Ee]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",je,De]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ye,xe]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",xe]}],"underline-offset":[{"underline-offset":["auto",ye,xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[ge])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},he]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[t]}],"rounded-s":[{"rounded-s":[t]}],"rounded-e":[{"rounded-e":[t]}],"rounded-t":[{"rounded-t":[t]}],"rounded-r":[{"rounded-r":[t]}],"rounded-b":[{"rounded-b":[t]}],"rounded-l":[{"rounded-l":[t]}],"rounded-ss":[{"rounded-ss":[t]}],"rounded-se":[{"rounded-se":[t]}],"rounded-ee":[{"rounded-ee":[t]}],"rounded-es":[{"rounded-es":[t]}],"rounded-tl":[{"rounded-tl":[t]}],"rounded-tr":[{"rounded-tr":[t]}],"rounded-br":[{"rounded-br":[t]}],"rounded-bl":[{"rounded-bl":[t]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[ye,xe]}],"outline-w":[{outline:[xe]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[xe]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ze,Ve]}],"shadow-color":[{shadow:[Ee]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[o]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ze,ye]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[u]}],saturate:[{saturate:[g]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[o]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:S()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:S()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[h]}],"scale-x":[{"scale-x":[h]}],"scale-y":[{"scale-y":[h]}],rotate:[{rotate:[Ce,ye]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xe,De]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Pe=le(Le);function Ae(...e){return Pe(c(e))}const Ie=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Te=c,Me=(e,s)=>o=>{var n;if(null==(null==s?void 0:s.variants))return Te(e,null==o?void 0:o.class,null==o?void 0:o.className);const{variants:r,defaultVariants:t}=s,i=Object.keys(r).map(e=>{const s=null==o?void 0:o[e],n=null==t?void 0:t[e];if(null===s)return null;const i=Ie(s)||Ie(n);return r[e][i]}),a=o&&Object.entries(o).reduce((e,s)=>{let[o,n]=s;return void 0===n||(e[o]=n),e},{}),l=null==s||null===(n=s.compoundVariants)||void 0===n?void 0:n.reduce((e,s)=>{let{class:o,className:n,...r}=s;return Object.entries(r).every(e=>{let[s,o]=e;return Array.isArray(o)?o.includes({...t,...a}[s]):{...t,...a}[s]===o})?[...e,o,n]:e},[]);return Te(e,i,l,null==o?void 0:o.class,null==o?void 0:o.className)},$e=v,Re=e.forwardRef(({className:e,...o},n)=>s.jsxDEV(m,{ref:n,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...o},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/toast.jsx",lineNumber:10,columnNumber:2},void 0));Re.displayName=m.displayName;const qe=Me("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Oe=e.forwardRef(({className:e,variant:o,...n},r)=>s.jsxDEV(u,{ref:r,className:Ae(qe({variant:o}),e),...n},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/toast.jsx",lineNumber:39,columnNumber:3},void 0));Oe.displayName=u.displayName;e.forwardRef(({className:e,...o},n)=>s.jsxDEV(d,{ref:n,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...o},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/toast.jsx",lineNumber:49,columnNumber:2},void 0)).displayName=d.displayName;const Be=e.forwardRef(({className:e,...o},n)=>s.jsxDEV(b,{ref:n,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"data-toast-close":"",...o,children:s.jsxDEV(p,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/toast.jsx",lineNumber:70,columnNumber:3},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/toast.jsx",lineNumber:61,columnNumber:2},void 0));Be.displayName=b.displayName;const We=e.forwardRef(({className:e,...o},n)=>s.jsxDEV(N,{ref:n,className:Ae("text-sm font-semibold",e),...o},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/toast.jsx",lineNumber:76,columnNumber:2},void 0));We.displayName=N.displayName;const Je=e.forwardRef(({className:e,...o},n)=>s.jsxDEV(x,{ref:n,className:Ae("text-sm opacity-90",e),...o},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/toast.jsx",lineNumber:85,columnNumber:2},void 0));Je.displayName=x.displayName;let He=0;const Xe={state:{toasts:[]},listeners:[],getState:()=>Xe.state,setState:e=>{Xe.state="function"==typeof e?e(Xe.state):{...Xe.state,...e},Xe.listeners.forEach(e=>e(Xe.state))},subscribe:e=>(Xe.listeners.push(e),()=>{Xe.listeners=Xe.listeners.filter(s=>s!==e)})},Ke=({...e})=>{const s=(He=(He+1)%Number.MAX_VALUE,He.toString()),o=()=>Xe.setState(e=>({...e,toasts:e.toasts.filter(e=>e.id!==s)}));return Xe.setState(n=>({...n,toasts:[{...e,id:s,dismiss:o},...n.toasts].slice(0,1)})),{id:s,dismiss:o,update:e=>Xe.setState(o=>({...o,toasts:o.toasts.map(o=>o.id===s?{...o,...e}:o)}))}};function Ye(){const[e,s]=o.useState(Xe.getState());return o.useEffect(()=>Xe.subscribe(e=>{s(e)}),[]),o.useEffect(()=>{const s=[];return e.toasts.forEach(e=>{if(e.duration===1/0)return;const o=setTimeout(()=>{e.dismiss()},e.duration||5e3);s.push(o)}),()=>{s.forEach(e=>clearTimeout(e))}},[e.toasts]),{toast:Ke,toasts:e.toasts}}function Ze(){const{toasts:e}=Ye();return s.jsxDEV($e,{children:[e.map(({id:e,title:o,description:n,action:r,dismiss:t,...i})=>s.jsxDEV(Oe,{...i,children:[s.jsxDEV("div",{className:"grid gap-1",children:[o&&s.jsxDEV(We,{children:o},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/toaster.jsx",lineNumber:21,columnNumber:18},this),n&&s.jsxDEV(Je,{children:n},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/toaster.jsx",lineNumber:23,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/toaster.jsx",lineNumber:20,columnNumber:7},this),r,s.jsxDEV(Be,{},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/toaster.jsx",lineNumber:27,columnNumber:7},this)]},e,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/toaster.jsx",lineNumber:19,columnNumber:6},this)),s.jsxDEV(Re,{},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/toaster.jsx",lineNumber:31,columnNumber:4},this)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/toaster.jsx",lineNumber:16,columnNumber:3},this)}const Qe=Me("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),es=e.forwardRef(({className:e,variant:o,size:n,asChild:r=!1,...t},i)=>{const a=r?f:"button";return s.jsxDEV(a,{className:Ae(Qe({variant:o,size:n,className:e})),ref:i,...t},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ui/button.jsx",lineNumber:38,columnNumber:3},void 0)});es.displayName="Button";const ss=a("https://fhuzkubnxuetakpxkwlr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZodXprdWJueHVldGFrcHhrd2xyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxMTE4MTEsImV4cCI6MjA3NDY4NzgxMX0.6_fLQrCtBdYAKNXgT2fAo6vHVfhe3DmISq7F-egfyUY",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:"undefined"!=typeof window?window.localStorage:void 0,storageKey:"gestion-cab-auth",flowType:"pkce"},global:{headers:{Prefer:"return=representation"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}});ss.auth.onAuthStateChange((e,s)=>{"TOKEN_REFRESHED"===e||"SIGNED_OUT"===e&&"undefined"!=typeof window&&localStorage.removeItem("gestion-cab-auth")});const os={company_info:{name:"Cabinet d'Avocats",logo_url:"",address:"",phone:"",email:"",slogan:"",description:""},menu_config:{items:[{id:"dashboard",label:"Tableau de bord",enabled:!0,order:1},{id:"clients",label:"Clients",enabled:!0,order:2},{id:"cases",label:"Dossiers",enabled:!0,order:3},{id:"tasks",label:"Tâches",enabled:!0,order:4},{id:"documents",label:"Documents",enabled:!0,order:5},{id:"calendar",label:"Calendrier",enabled:!0,order:6},{id:"team",label:"Collaborateurs",enabled:!0,order:7},{id:"billing",label:"Facturation",enabled:!0,order:8},{id:"settings",label:"Paramètres",enabled:!0,order:9}]},categories_config:{task_categories:[],case_types:[],user_roles:[{value:"admin",label:"Administrateur"},{value:"gerant",label:"Gérant"},{value:"avocat",label:"Avocat"},{value:"secretaire",label:"Secrétaire"}],task_statuses:[{value:"todo",label:"À faire",color:"gray"},{value:"in_progress",label:"En cours",color:"blue"},{value:"done",label:"Terminé",color:"green"}],case_statuses:[{value:"open",label:"Ouvert",color:"green"},{value:"in_progress",label:"En cours",color:"blue"},{value:"closed",label:"Fermé",color:"gray"}]}},ns=async e=>{try{const{data:s,error:o}=await ss.from("app_settings").select("id").eq("id",1).maybeSingle();if(o)return{success:!1,error:o};if(!s){const{data:s,error:o}=await ss.from("app_settings").insert({id:1,...os,...e}).select().single();return o?{success:!1,error:o}:{success:!0,data:s}}const{data:n,error:r}=await ss.from("app_settings").update(e).eq("id",1).select().single();return r?{success:!1,error:r}:{success:!0,data:n}}catch(s){return{success:!1,error:s}}},rs=async e=>ns({company_info:e}),ts=async e=>ns({menu_config:e}),is=async e=>ns({categories_config:e}),as=()=>{const[e,s]=o.useState(os),[n,r]=o.useState(!0),[t,i]=o.useState(null),a=async()=>{r(!0);try{const e=await(async()=>{try{const{data:e,error:s}=await ss.from("app_settings").select("*").eq("id",1).single();return s?os:e||os}catch(t){return os}})();s(e),i(null)}catch(e){i(e),s(os)}finally{r(!1)}};return o.useEffect(()=>{a()},[]),{settings:e,loading:n,error:t,refetch:a}},ls=()=>{const{settings:e,loading:s,error:o}=as();return{companyInfo:e.company_info||os.company_info,loading:s,error:o}},cs=()=>{const{settings:e,loading:s,error:o}=as();return{menuConfig:e.menu_config||os.menu_config,loading:s,error:o}},ms=()=>{const{settings:e,loading:s,error:o}=as();return{categoriesConfig:e.categories_config||os.categories_config,loading:s,error:o}},us=({activeView:e,setActiveView:o,currentUser:n,onLogout:r})=>{const{companyInfo:t}=ls(),i=n&&("Associe Emerite"===n.function||n.role&&"admin"===n.role.toLowerCase()),a=n&&"Gerant"===n.function,l=i||a,c=[{id:"dashboard",label:"Tableau de Bord",icon:g},{id:"tasks",label:"Tâches",icon:h},{id:"clients",label:"Clients",icon:D},{id:"cases",label:"Dossiers",icon:j},{id:"calendar",label:"Agenda",icon:w},{id:"documents",label:"Documents",icon:C},{id:"billing",label:"Facturation",icon:y},{id:"team",label:"Collaborateurs",icon:E},{id:"reports",label:"Statistiques",icon:z}].filter(e=>{return s=e.id,!!l||(n?.permissions?n.permissions[s]?.visible:["dashboard","tasks","calendar","documents"].includes(s));var s}),m={id:"settings",label:"Paramètres",icon:G};return s.jsxDEV(V.aside,{initial:{x:-250},animate:{x:0},className:"fixed left-0 top-0 h-screen w-64 bg-slate-800/90 backdrop-blur-sm border-r border-slate-700/50 z-50 flex flex-col print:hidden",children:[s.jsxDEV("div",{className:"p-6",children:s.jsxDEV("div",{className:"flex items-center gap-3 mb-8",children:[t?.logo_url?s.jsxDEV("div",{className:"bg-white/10 p-2 rounded-lg flex-shrink-0",children:s.jsxDEV("img",{src:t.logo_url,alt:"Logo",className:"h-10 w-10 object-contain rounded-lg"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:56,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:55,columnNumber:13},void 0):s.jsxDEV("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex-shrink-0",children:s.jsxDEV(U,{className:"w-6 h-6 text-white"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:60,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:59,columnNumber:13},void 0),s.jsxDEV("div",{className:"flex-1 min-w-0",children:[s.jsxDEV("h1",{className:"text-base font-bold text-white truncate",children:t?.name||"Cabinet Juridique"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:64,columnNumber:13},void 0),s.jsxDEV("p",{className:"text-xs text-slate-400 truncate",children:"LEGALSUITE"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:67,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:63,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:53,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:52,columnNumber:7},void 0),s.jsxDEV("nav",{className:"flex-grow overflow-y-auto px-6 space-y-2",children:c.map(n=>{const r=n.icon,t=e===n.id;return s.jsxDEV(es,{variant:t?"default":"ghost",className:"w-full justify-start gap-3 h-12 "+(t?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg":"text-slate-300 hover:text-white hover:bg-slate-700/50"),onClick:()=>o(n.id),children:[s.jsxDEV(r,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:88,columnNumber:15},void 0),n.label]},n.id,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:78,columnNumber:13},void 0)})},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:72,columnNumber:7},void 0),s.jsxDEV("div",{className:"mt-auto p-6",children:[s.jsxDEV("div",{className:"mb-4 p-3 bg-slate-700/50 rounded-lg",children:[s.jsxDEV("p",{className:"text-white font-semibold truncate",children:n.name||n.email||"Utilisateur"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:97,columnNumber:11},void 0),s.jsxDEV("p",{className:"text-sm text-slate-400 capitalize",children:n.function||n.role||"Collaborateur"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:98,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:96,columnNumber:9},void 0),i&&s.jsxDEV(es,{variant:e===m.id?"default":"ghost",className:"w-full justify-start gap-3 h-12 mb-2 "+(e===m.id?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg":"text-slate-300 hover:text-white hover:bg-slate-700/50"),onClick:()=>o(m.id),children:[s.jsxDEV(m.icon,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:111,columnNumber:13},void 0),m.label]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:102,columnNumber:11},void 0),s.jsxDEV(es,{variant:"ghost",className:"w-full justify-start gap-3 h-12 text-red-400 hover:text-red-400 hover:bg-red-500/20",onClick:r,children:[s.jsxDEV(S,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:121,columnNumber:11},void 0),"Déconnexion"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:116,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:95,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Sidebar.jsx",lineNumber:47,columnNumber:5},void 0)},ds=({currentUser:e,setActiveView:n})=>{const[r,t]=o.useState({totalTasks:0,completedTasks:0,totalClients:0,activeCases:0,urgentTasks:0,todayDeadlines:0,revenue:0,previousClients:0,previousCases:0,previousRevenue:0,previousTasks:0}),[i,a]=o.useState({active:0,pending:0,closed:0,suspended:0}),[l,c]=o.useState([]),[m,u]=o.useState([]),[d,b]=o.useState([]),[p,N]=o.useState([]),[x,v]=o.useState([]),[f,g]=o.useState(""),C=e&&("Gerant"===e.function||"Associe Emerite"===e.function)||e.role&&"admin"===e.role.toLowerCase();o.useEffect(()=>{e&&(async()=>{let s=ss.from("tasks").select("*"),o=ss.from("clients").select("id",{count:"exact"}),n=ss.from("cases").select("*");C||(s=s.or(`assigned_to_id.eq.${e.id},assigned_to_ids.cs.{${e.id}},visible_by_ids.cs.{${e.id}}`),n=n.eq("assigned_to",e.id));const[{data:r,error:i},{count:l,error:m},{data:d,error:p},{data:x,error:f}]=await Promise.all([s,C?o:Promise.resolve({count:0,error:null}),n,ss.from("alerts").select("*").order("created_at",{ascending:!1}).limit(5)]);(i||m||p||f)&&Ke({variant:"destructive",title:"Erreur",description:"Impossible de charger les données du tableau de bord."}),v(x||[]);const g=r||[],h=d||[],D=new Date;D.setHours(0,0,0,0);const j=new Date,w=g.filter(e=>"urgent"===e.priority&&"completed"!==e.status),y=g.filter(e=>{if(!e.deadline)return!1;const s=new Date(e.deadline);return s.setHours(0,0,0,0),s.getTime()===D.getTime()}),E=g.filter(e=>e.deadline&&new Date(e.deadline)<j&&"completed"!==e.status);b(E);const z=h.filter(e=>"active"===e.status||"actif"===e.status).length,V=h.filter(e=>"pending"===e.status||"en-attente"===e.status).length,U=h.filter(e=>"closed"===e.status||"cloture"===e.status).length,G=h.filter(e=>"suspended"===e.status||"suspendu"===e.status).length;a({active:z,pending:V,closed:U,suspended:G}),t({totalTasks:g.length,completedTasks:g.filter(e=>"completed"===e.status).length,totalClients:l||0,activeCases:z,urgentTasks:w.length,todayDeadlines:y.length,revenue:0,previousClients:Math.floor(.89*(l||0)),previousCases:Math.floor(.95*z),previousRevenue:0,previousTasks:Math.floor(1.08*g.length)});const S=new Date;S.setDate(S.getDate()+7);const _=g.filter(e=>{if(!e.deadline||"completed"===e.status)return!1;const s=new Date(e.deadline);return s>=j&&s<=S}).sort((e,s)=>new Date(e.deadline)-new Date(s.deadline)).slice(0,3);c(_);const k=[...g].sort((e,s)=>new Date(s.created_at||s.updated_at)-new Date(e.created_at||e.updated_at)).slice(0,2).map(e=>({id:e.id,type:"task",title:e.title,subtitle:e.assigned_to_name||"Non assigné",time:e.created_at||e.updated_at,description:"completed"===e.status?"Tâche terminée":"Nouvelle tâche créée"}));if(C&&l>0){const{data:e}=await ss.from("clients").select("name, created_at").order("created_at",{ascending:!1}).limit(1);e&&e.length>0&&k.unshift({id:`client-${Date.now()}`,type:"client",title:"Nouveau client ajouté",subtitle:e[0].name,time:e[0].created_at,description:"Client ajouté au système"})}if(u(k.slice(0,3)),C){const{data:e}=await ss.from("profiles").select("*, role"),s=(e||[]).filter(e=>"admin"!==e.role),{data:o}=await ss.from("tasks").select("assigned_to_id, status, deadline"),n=s.map(e=>{const s=(o||[]).filter(s=>s.assigned_to_id===e.id),n=s.filter(e=>"completed"===e.status).length,r=s.filter(e=>e.deadline&&new Date(e.deadline)<j&&"completed"!==e.status).length;return{name:e.name,total:s.length,completed:n,overdue:r,completionRate:s.length>0?Math.round(n/s.length*100):0}});N(n)}})()},[e,C]);const y=(e,s)=>0===s?0:Math.round((e-s)/s*100),z=e=>e?new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"short"}):"N/A",U=e=>{if(!e)return"N/A";const s=new Date(e),o=new Date,n=Math.floor((o-s)/36e5);if(n<1)return"Il y a moins d'1 heure";if(n<24)return`Il y a ${n}h`;const r=Math.floor(n/24);return 1===r?"Hier":r<7?`Il y a ${r} jours`:z(e)},G=e=>{const s=new Date,o=new Date(e),n=Math.ceil((o-s)/864e5);return n<0?"text-red-400":0===n?"text-orange-400":n<=2?"text-yellow-400":"text-blue-400"};return s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxDEV("div",{children:[s.jsxDEV("h1",{className:"text-3xl font-bold text-white mb-2",children:"Tableau de bord"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:283,columnNumber:11},void 0),s.jsxDEV("p",{className:"text-slate-400",children:"Bon retour ! Voici un aperçu de votre cabinet."},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:284,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:282,columnNumber:9},void 0),s.jsxDEV("div",{className:"flex items-center gap-2 text-slate-400",children:[s.jsxDEV(w,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:289,columnNumber:11},void 0),s.jsxDEV("p",{className:"text-slate-300 font-medium",children:(new Date).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:290,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:288,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:281,columnNumber:7},void 0),s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[C&&s.jsxDEV(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0},onClick:()=>n("clients"),className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6 hover:border-blue-500/50 transition-all duration-200 cursor-pointer",children:[s.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"text-slate-400 text-sm font-medium mb-2",children:"Total Clients"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:309,columnNumber:17},void 0),s.jsxDEV("p",{className:"text-3xl font-bold text-white",children:r.totalClients},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:310,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:308,columnNumber:15},void 0),s.jsxDEV("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:s.jsxDEV(D,{className:"w-6 h-6 text-blue-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:313,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:312,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:307,columnNumber:13},void 0),s.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[r.totalClients>=r.previousClients?s.jsxDEV(s.Fragment,{children:[s.jsxDEV(_,{className:"w-4 h-4 text-green-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:319,columnNumber:19},void 0),s.jsxDEV("span",{className:"text-green-400",children:["+",y(r.totalClients,r.previousClients),"%"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:320,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:318,columnNumber:17},void 0):s.jsxDEV(s.Fragment,{children:[s.jsxDEV(k,{className:"w-4 h-4 text-red-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:324,columnNumber:19},void 0),s.jsxDEV("span",{className:"text-red-400",children:[y(r.totalClients,r.previousClients),"%"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:325,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:323,columnNumber:17},void 0),s.jsxDEV("span",{className:"text-slate-500",children:"vs last month"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:328,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:316,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:300,columnNumber:11},void 0),s.jsxDEV(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>n("cases"),className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6 hover:border-green-500/50 transition-all duration-200 cursor-pointer",children:[s.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"text-slate-400 text-sm font-medium mb-2",children:"Dossiers Actifs"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:343,columnNumber:15},void 0),s.jsxDEV("p",{className:"text-3xl font-bold text-white",children:r.activeCases},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:344,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:342,columnNumber:13},void 0),s.jsxDEV("div",{className:"p-3 bg-green-500/10 rounded-lg",children:s.jsxDEV(E,{className:"w-6 h-6 text-green-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:347,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:346,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:341,columnNumber:11},void 0),s.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[r.activeCases>=r.previousCases?s.jsxDEV(s.Fragment,{children:[s.jsxDEV(_,{className:"w-4 h-4 text-green-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:353,columnNumber:17},void 0),s.jsxDEV("span",{className:"text-green-400",children:["+",y(r.activeCases,r.previousCases),"%"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:354,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:352,columnNumber:15},void 0):s.jsxDEV(s.Fragment,{children:[s.jsxDEV(k,{className:"w-4 h-4 text-red-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:358,columnNumber:17},void 0),s.jsxDEV("span",{className:"text-red-400",children:[y(r.activeCases,r.previousCases),"%"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:359,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:357,columnNumber:15},void 0),s.jsxDEV("span",{className:"text-slate-500",children:"vs last month"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:362,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:350,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:334,columnNumber:9},void 0),C&&s.jsxDEV(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},onClick:()=>n("billing"),className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6 hover:border-yellow-500/50 transition-all duration-200 cursor-pointer",children:[s.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"text-slate-400 text-sm font-medium mb-2",children:"Revenu (Mois)"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:377,columnNumber:17},void 0),s.jsxDEV("p",{className:"text-3xl font-bold text-white",children:(S=r.revenue,new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(S)+" F CFA")},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:378,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:376,columnNumber:15},void 0),s.jsxDEV("div",{className:"p-3 bg-yellow-500/10 rounded-lg",children:s.jsxDEV(F,{className:"w-6 h-6 text-yellow-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:381,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:380,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:375,columnNumber:13},void 0),s.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[r.revenue>=r.previousRevenue?s.jsxDEV(s.Fragment,{children:[s.jsxDEV(_,{className:"w-4 h-4 text-green-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:387,columnNumber:19},void 0),s.jsxDEV("span",{className:"text-green-400",children:["+",y(r.revenue,r.previousRevenue),"%"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:388,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:386,columnNumber:17},void 0):s.jsxDEV(s.Fragment,{children:[s.jsxDEV(k,{className:"w-4 h-4 text-red-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:392,columnNumber:19},void 0),s.jsxDEV("span",{className:"text-red-400",children:[y(r.revenue,r.previousRevenue),"%"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:393,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:391,columnNumber:17},void 0),s.jsxDEV("span",{className:"text-slate-500",children:"vs last month"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:396,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:384,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:368,columnNumber:11},void 0),s.jsxDEV(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onClick:()=>n("tasks"),className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6 hover:border-red-500/50 transition-all duration-200 cursor-pointer",children:[s.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"text-slate-400 text-sm font-medium mb-2",children:"Tâches en Attente"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:411,columnNumber:15},void 0),s.jsxDEV("p",{className:"text-3xl font-bold text-white",children:r.totalTasks-r.completedTasks},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:412,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:410,columnNumber:13},void 0),s.jsxDEV("div",{className:"p-3 bg-red-500/10 rounded-lg",children:s.jsxDEV(L,{className:"w-6 h-6 text-red-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:415,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:414,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:409,columnNumber:11},void 0),s.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[r.totalTasks<=r.previousTasks?s.jsxDEV(s.Fragment,{children:[s.jsxDEV(k,{className:"w-4 h-4 text-green-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:421,columnNumber:17},void 0),s.jsxDEV("span",{className:"text-green-400",children:[y(r.totalTasks,r.previousTasks),"%"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:422,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:420,columnNumber:15},void 0):s.jsxDEV(s.Fragment,{children:[s.jsxDEV(_,{className:"w-4 h-4 text-red-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:426,columnNumber:17},void 0),s.jsxDEV("span",{className:"text-red-400",children:["+",y(r.totalTasks,r.previousTasks),"%"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:427,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:425,columnNumber:15},void 0),s.jsxDEV("span",{className:"text-slate-500",children:"vs last month"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:430,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:418,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:402,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:297,columnNumber:7},void 0),s.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxDEV(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"lg:col-span-2 bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[s.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-6",children:"Aperçu du statut des dossiers"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:444,columnNumber:11},void 0),s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{children:[s.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:s.jsxDEV(E,{className:"w-4 h-4 text-blue-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:452,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:451,columnNumber:19},void 0),s.jsxDEV("span",{className:"text-slate-300 font-medium",children:"Actif"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:454,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:450,columnNumber:17},void 0),s.jsxDEV("span",{className:"text-white font-bold text-xl",children:i.active},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:456,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:449,columnNumber:15},void 0),s.jsxDEV("div",{className:"w-full bg-slate-700/50 rounded-full h-2",children:s.jsxDEV("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:i.active/(i.active+i.pending+i.closed+i.suspended||1)*100+"%"}},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:459,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:458,columnNumber:15},void 0),s.jsxDEV("p",{className:"text-xs text-slate-500 mt-1",children:[(i.active/(i.active+i.pending+i.closed+i.suspended||1)*100).toFixed(1),"% du total"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:464,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:448,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV("div",{className:"p-2 bg-yellow-500/10 rounded-lg",children:s.jsxDEV(L,{className:"w-4 h-4 text-yellow-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:474,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:473,columnNumber:19},void 0),s.jsxDEV("span",{className:"text-slate-300 font-medium",children:"En attente"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:476,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:472,columnNumber:17},void 0),s.jsxDEV("span",{className:"text-white font-bold text-xl",children:i.pending},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:478,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:471,columnNumber:15},void 0),s.jsxDEV("div",{className:"w-full bg-slate-700/50 rounded-full h-2",children:s.jsxDEV("div",{className:"bg-yellow-500 h-2 rounded-full transition-all duration-500",style:{width:i.pending/(i.active+i.pending+i.closed+i.suspended||1)*100+"%"}},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:481,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:480,columnNumber:15},void 0),s.jsxDEV("p",{className:"text-xs text-slate-500 mt-1",children:[(i.pending/(i.active+i.pending+i.closed+i.suspended||1)*100).toFixed(1),"% du total"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:486,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:470,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsxDEV(h,{className:"w-4 h-4 text-green-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:496,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:495,columnNumber:19},void 0),s.jsxDEV("span",{className:"text-slate-300 font-medium",children:"Clôturé"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:498,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:494,columnNumber:17},void 0),s.jsxDEV("span",{className:"text-white font-bold text-xl",children:i.closed},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:500,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:493,columnNumber:15},void 0),s.jsxDEV("div",{className:"w-full bg-slate-700/50 rounded-full h-2",children:s.jsxDEV("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:i.closed/(i.active+i.pending+i.closed+i.suspended||1)*100+"%"}},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:503,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:502,columnNumber:15},void 0),s.jsxDEV("p",{className:"text-xs text-slate-500 mt-1",children:[(i.closed/(i.active+i.pending+i.closed+i.suspended||1)*100).toFixed(1),"% du total"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:508,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:492,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV("div",{className:"p-2 bg-red-500/10 rounded-lg",children:s.jsxDEV(P,{className:"w-4 h-4 text-red-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:518,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:517,columnNumber:19},void 0),s.jsxDEV("span",{className:"text-slate-300 font-medium",children:"En suspens"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:520,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:516,columnNumber:17},void 0),s.jsxDEV("span",{className:"text-white font-bold text-xl",children:i.suspended},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:522,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:515,columnNumber:15},void 0),s.jsxDEV("div",{className:"w-full bg-slate-700/50 rounded-full h-2",children:s.jsxDEV("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-500",style:{width:i.suspended/(i.active+i.pending+i.closed+i.suspended||1)*100+"%"}},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:525,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:524,columnNumber:15},void 0),s.jsxDEV("p",{className:"text-xs text-slate-500 mt-1",children:[(i.suspended/(i.active+i.pending+i.closed+i.suspended||1)*100).toFixed(1),"% du total"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:530,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:514,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:446,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:438,columnNumber:9},void 0),s.jsxDEV(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[s.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[s.jsxDEV("h3",{className:"text-xl font-semibold text-white",children:"Échéances à venir"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:545,columnNumber:13},void 0),s.jsxDEV("div",{className:"p-2 bg-slate-700/50 rounded-lg",children:s.jsxDEV(P,{className:"w-5 h-5 text-slate-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:547,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:546,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:544,columnNumber:11},void 0),s.jsxDEV("div",{className:"space-y-4",children:l.length>0?l.map(e=>s.jsxDEV("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-slate-600/50 hover:border-slate-500/50 transition-colors cursor-pointer",onClick:()=>n("tasks"),children:s.jsxDEV("div",{className:"flex items-start gap-3",children:[s.jsxDEV("div",{className:"p-2 rounded-lg "+(e.title.includes("tribunal")||e.title.includes("Audience")?"bg-red-500/10":e.title.includes("document")||e.title.includes("Soumission")?"bg-yellow-500/10":"bg-green-500/10"),children:e.title.includes("tribunal")||e.title.includes("Audience")?s.jsxDEV(P,{className:"w-4 h-4 text-red-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:565,columnNumber:23},void 0):e.title.includes("document")||e.title.includes("Soumission")?s.jsxDEV(j,{className:"w-4 h-4 text-yellow-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:567,columnNumber:23},void 0):s.jsxDEV(D,{className:"w-4 h-4 text-green-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:569,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:559,columnNumber:19},void 0),s.jsxDEV("div",{className:"flex-1 min-w-0",children:[s.jsxDEV("p",{className:"text-white font-medium text-sm mb-1 truncate",children:e.title},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:573,columnNumber:21},void 0),s.jsxDEV("p",{className:"text-slate-400 text-xs mb-2",children:e.assigned_to_name||"Non assigné"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:574,columnNumber:21},void 0),s.jsxDEV("div",{className:"flex items-center gap-2 text-xs",children:[s.jsxDEV(w,{className:"w-3 h-3 text-slate-500"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:576,columnNumber:23},void 0),s.jsxDEV("span",{className:G(e.deadline),children:z(e.deadline)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:577,columnNumber:23},void 0),s.jsxDEV(L,{className:"w-3 h-3 text-slate-500 ml-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:580,columnNumber:23},void 0),s.jsxDEV("span",{className:"text-slate-400",children:new Date(e.deadline).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:581,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:575,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:572,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:558,columnNumber:17},void 0)},e.id,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:553,columnNumber:15},void 0)):s.jsxDEV("div",{className:"text-center py-8",children:[s.jsxDEV(h,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:590,columnNumber:17},void 0),s.jsxDEV("p",{className:"text-slate-400 text-sm",children:"Aucune échéance prévue dans les 7 prochains jours"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:591,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:589,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:551,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:538,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:436,columnNumber:7},void 0),s.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxDEV(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[s.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-6",children:"Activités récentes"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:607,columnNumber:11},void 0),s.jsxDEV("div",{className:"space-y-4",children:m.length>0?m.map((e,o)=>s.jsxDEV("div",{className:"flex items-start gap-4",children:[s.jsxDEV("div",{className:"p-2 rounded-lg flex-shrink-0 "+("task"===e.type?"bg-blue-500/10":"client"===e.type?"bg-green-500/10":"bg-purple-500/10"),children:"task"===e.type?s.jsxDEV(E,{className:"w-5 h-5 text-blue-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:618,columnNumber:21},void 0):"client"===e.type?s.jsxDEV(D,{className:"w-5 h-5 text-green-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:620,columnNumber:21},void 0):s.jsxDEV(j,{className:"w-5 h-5 text-purple-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:622,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:612,columnNumber:17},void 0),s.jsxDEV("div",{className:"flex-1 min-w-0",children:[s.jsxDEV("p",{className:"text-white font-medium text-sm mb-1",children:e.title},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:626,columnNumber:19},void 0),s.jsxDEV("p",{className:"text-slate-400 text-xs mb-1",children:e.subtitle},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:627,columnNumber:19},void 0),s.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[s.jsxDEV(L,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:629,columnNumber:21},void 0),s.jsxDEV("span",{children:U(e.time)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:630,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:628,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:625,columnNumber:17},void 0)]},e.id,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:611,columnNumber:15},void 0)):s.jsxDEV("div",{className:"text-center py-8",children:[s.jsxDEV(j,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:636,columnNumber:17},void 0),s.jsxDEV("p",{className:"text-slate-400 text-sm",children:"Aucune activité récente"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:637,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:635,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:609,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:601,columnNumber:9},void 0),s.jsxDEV(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[s.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-6",children:"Actions rapides"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:650,columnNumber:11},void 0),s.jsxDEV("div",{className:"space-y-3",children:[C&&s.jsxDEV(s.Fragment,{children:[s.jsxDEV(es,{onClick:()=>n("clients"),className:"w-full justify-start gap-3 bg-slate-700/50 hover:bg-slate-700 border border-slate-600/50 text-white h-auto py-4",children:[s.jsxDEV("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:s.jsxDEV(A,{className:"w-5 h-5 text-blue-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:660,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:659,columnNumber:19},void 0),s.jsxDEV("div",{className:"text-left",children:[s.jsxDEV("p",{className:"font-medium",children:"Ajouter un nouveau client"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:663,columnNumber:21},void 0),s.jsxDEV("p",{className:"text-xs text-slate-400",children:"Enregistrer un nouveau profil client"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:664,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:662,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:655,columnNumber:17},void 0),s.jsxDEV(es,{onClick:()=>n("cases"),className:"w-full justify-start gap-3 bg-slate-700/50 hover:bg-slate-700 border border-slate-600/50 text-white h-auto py-4",children:[s.jsxDEV("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsxDEV(I,{className:"w-5 h-5 text-green-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:673,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:672,columnNumber:19},void 0),s.jsxDEV("div",{className:"text-left",children:[s.jsxDEV("p",{className:"font-medium",children:"Créer un nouveau dossier"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:676,columnNumber:21},void 0),s.jsxDEV("p",{className:"text-xs text-slate-400",children:"Ouvrir un nouveau dossier"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:677,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:675,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:668,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:654,columnNumber:15},void 0),s.jsxDEV(es,{onClick:()=>n("tasks"),className:"w-full justify-start gap-3 bg-slate-700/50 hover:bg-slate-700 border border-slate-600/50 text-white h-auto py-4",children:[s.jsxDEV("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:s.jsxDEV(T,{className:"w-5 h-5 text-purple-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:688,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:687,columnNumber:15},void 0),s.jsxDEV("div",{className:"text-left",children:[s.jsxDEV("p",{className:"font-medium",children:"Créer une nouvelle tâche"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:691,columnNumber:17},void 0),s.jsxDEV("p",{className:"text-xs text-slate-400",children:"Ajouter une tâche au système"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:692,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:690,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:683,columnNumber:13},void 0),s.jsxDEV(es,{onClick:()=>n("calendar"),className:"w-full justify-start gap-3 bg-slate-700/50 hover:bg-slate-700 border border-slate-600/50 text-white h-auto py-4",children:[s.jsxDEV("div",{className:"p-2 bg-yellow-500/10 rounded-lg",children:s.jsxDEV(w,{className:"w-5 h-5 text-yellow-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:701,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:700,columnNumber:15},void 0),s.jsxDEV("div",{className:"text-left",children:[s.jsxDEV("p",{className:"font-medium",children:"Voir le calendrier"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:704,columnNumber:17},void 0),s.jsxDEV("p",{className:"text-xs text-slate-400",children:"Consulter toutes les échéances"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:705,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:703,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:696,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:652,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:644,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:599,columnNumber:7},void 0),C&&p.length>0&&s.jsxDEV(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[s.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-4",children:"Performance de l'Équipe"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:720,columnNumber:11},void 0),s.jsxDEV("div",{className:"overflow-x-auto",children:s.jsxDEV("table",{className:"w-full text-left",children:[s.jsxDEV("thead",{children:s.jsxDEV("tr",{className:"border-b border-slate-700",children:[s.jsxDEV("th",{className:"p-3 text-slate-400 font-medium",children:"Collaborateur"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:725,columnNumber:19},void 0),s.jsxDEV("th",{className:"p-3 text-slate-400 font-medium text-center",children:"Tâches Assignées"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:726,columnNumber:19},void 0),s.jsxDEV("th",{className:"p-3 text-slate-400 font-medium text-center",children:"Tâches Terminées"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:727,columnNumber:19},void 0),s.jsxDEV("th",{className:"p-3 text-slate-400 font-medium text-center",children:"En Retard"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:728,columnNumber:19},void 0),s.jsxDEV("th",{className:"p-3 text-slate-400 font-medium text-center",children:"Taux de Complétion"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:729,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:724,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:723,columnNumber:15},void 0),s.jsxDEV("tbody",{children:p.map(e=>s.jsxDEV("tr",{className:"border-b border-slate-800 hover:bg-slate-700/30",children:[s.jsxDEV("td",{className:"p-3 text-white font-medium",children:e.name},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:735,columnNumber:21},void 0),s.jsxDEV("td",{className:"p-3 text-white text-center",children:e.total},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:736,columnNumber:21},void 0),s.jsxDEV("td",{className:"p-3 text-green-400 text-center",children:e.completed},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:737,columnNumber:21},void 0),s.jsxDEV("td",{className:"p-3 text-red-400 text-center",children:e.overdue},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:738,columnNumber:21},void 0),s.jsxDEV("td",{className:"p-3 text-white text-center",children:s.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[s.jsxDEV("span",{children:[e.completionRate,"%"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:741,columnNumber:25},void 0),s.jsxDEV("div",{className:"w-24 bg-slate-600 rounded-full h-2.5",children:s.jsxDEV("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:`${e.completionRate}%`}},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:743,columnNumber:27},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:742,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:740,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:739,columnNumber:21},void 0)]},e.name,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:734,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:732,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:722,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:721,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:714,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/Dashboard.jsx",lineNumber:279,columnNumber:5},void 0);var S};ds.propTypes={currentUser:n.shape({id:n.string,name:n.string,email:n.string,role:n.string,function:n.string}),setActiveView:n.func.isRequired};const bs=o.createContext(void 0),ps="internal_session_token",Ns=({children:e})=>{const{toast:n}=Ye(),[r,t]=o.useState(null),[i,a]=o.useState(null),[l,c]=o.useState(!0),[m,u]=o.useState(!1),d=o.useCallback(async e=>{try{const{data:s,error:o}=await ss.from("user_permissions").select("permissions").eq("user_id",e).maybeSingle();return s?.permissions||null}catch(s){return null}},[]),b=o.useCallback(async()=>{const e=localStorage.getItem(ps);if(e)try{const{data:s,error:o}=await ss.rpc("verify_internal_session",{session_token_param:e});if(o||!s?.success)return localStorage.removeItem(ps),t(null),a(null),void c(!1);const n=s.user,r=await d(n.id);t({...n,permissions:r}),a({token:e}),u(n.must_change_password),c(!1)}catch(s){localStorage.removeItem(ps),c(!1)}else c(!1)},[d]);o.useEffect(()=>{b()},[b]);const p=o.useCallback(async(e,s)=>{try{const{data:o,error:r}=await ss.rpc("internal_login",{user_identifier:e,user_password:s,user_agent_text:navigator.userAgent,ip_addr:null});if(r||!o?.success){return n({variant:"destructive",title:"Connexion impossible",description:{invalid_credentials:"Identifiant ou mot de passe incorrect",pending_approval:"Votre compte est en attente de validation",technical_error:o?.message||"Erreur technique"}[o?.error]||o?.message||"Erreur de connexion"}),{error:o?.error||r,mustChangePassword:!1}}const{session_token:i,user:l}=o;localStorage.setItem(ps,i);const c=await d(l.id);return t({...l,permissions:c}),a({token:i}),u(l.must_change_password),l.must_change_password?n({title:"⚠️ Changement de mot de passe requis",description:"Vous devez définir votre mot de passe personnel lors de cette première connexion.",duration:6e3}):n({title:"👋 Bienvenue !",description:`Bonjour ${l.name||l.email}`}),{error:null,mustChangePassword:l.must_change_password,userId:l.id}}catch(o){return n({variant:"destructive",title:"Erreur",description:"Une erreur inattendue s'est produite"}),{error:o,mustChangePassword:!1}}},[n,d]),N=o.useCallback(async()=>{try{const e=localStorage.getItem(ps);return e&&await ss.rpc("internal_logout",{session_token_param:e}),localStorage.removeItem(ps),t(null),a(null),u(!1),n({title:"Déconnexion réussie",description:"À bientôt !"}),{error:null}}catch(e){return localStorage.removeItem(ps),t(null),a(null),{error:e}}},[n]),x=o.useCallback(async(e,s,o,r)=>{try{const{data:t,error:i}=await ss.rpc("internal_set_personal_credentials",{user_email:e,new_password:s,secret_question:o,secret_answer:r});if(i||!t?.success){return n({variant:"destructive",title:"Erreur",description:{password_reused:"Ce mot de passe a déjà été utilisé. Veuillez en choisir un nouveau.",user_not_found:"Utilisateur introuvable"}[t?.error]||t?.message||"Impossible de définir les identifiants"}),{error:t?.error||i}}const{error:a}=await p(e,s);return a?(n({variant:"destructive",title:"Erreur",description:"Identifiants définis mais connexion échouée. Veuillez vous reconnecter."}),{error:a}):(n({title:"✅ Identifiants définis !",description:"Bienvenue dans votre espace de travail."}),{error:null})}catch(t){return n({variant:"destructive",title:"Erreur",description:"Une erreur inattendue est survenue."}),{error:t}}},[n,p]),v=o.useCallback(async e=>{try{const{data:s,error:o}=await ss.rpc("get_secret_question",{user_identifier:e});if(o||!s?.success){return n({variant:"destructive",title:"Erreur",description:{user_not_found:"Aucun utilisateur trouvé avec cet identifiant",no_secret_phrase:"Aucune phrase secrète n'a été configurée pour ce compte"}[s?.error]||"Impossible de récupérer la question secrète"}),{error:s?.error||o,question:null}}return{error:null,question:s.question,userId:s.user_id}}catch(s){return n({variant:"destructive",title:"Erreur",description:"Une erreur inattendue est survenue."}),{error:s,question:null}}},[n]),f=o.useCallback(async(e,s,o)=>{try{const{data:r,error:t}=await ss.rpc("verify_secret_answer_and_reset",{user_identifier:e,secret_answer:s,new_password:o});if(t||!r?.success){return n({variant:"destructive",title:"Erreur",description:{user_not_found:"Utilisateur introuvable",no_secret_phrase:"Aucune phrase secrète n'a été configurée",wrong_answer:"La réponse est incorrecte",password_reused:"Ce mot de passe a déjà été utilisé"}[r?.error]||r?.message||"Impossible de réinitialiser le mot de passe"}),{error:r?.error||t}}return n({title:"✅ Mot de passe réinitialisé !",description:"Vous pouvez maintenant vous connecter avec votre nouveau mot de passe."}),{error:null}}catch(r){return n({variant:"destructive",title:"Erreur",description:"Une erreur inattendue est survenue."}),{error:r}}},[n]),g=o.useMemo(()=>({user:r,session:i,loading:l,mustChangePassword:m,signIn:p,signOut:N,setPersonalCredentials:x,getSecretQuestion:v,resetPasswordWithSecretPhrase:f}),[r,i,l,m,p,N,x,v,f]);return s.jsxDEV(bs.Provider,{value:g,children:e},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/contexts/InternalAuthContext.jsx",lineNumber:406,columnNumber:10},void 0)};Ns.propTypes={children:n.node.isRequired};const xs=()=>{const e=o.useContext(bs);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},vs=()=>{const{user:e,setPersonalCredentials:n,signOut:r}=xs(),[t,i]=o.useState(1),[a,l]=o.useState(""),[c,m]=o.useState(""),[u,d]=o.useState(""),[b,p]=o.useState(""),[N,x]=o.useState(!1),{toast:v}=Ye(),{companyInfo:f}=ls(),g=(e=>{const s=[];return e.length<12&&s.push("Minimum 12 caractères"),/[A-Z]/.test(e)||s.push("Au moins 1 majuscule"),/[a-z]/.test(e)||s.push("Au moins 1 minuscule"),/[0-9]/.test(e)||s.push("Au moins 1 chiffre"),/[!@#$%^&*(),.?":{}|<>]/.test(e)||s.push("Au moins 1 caractère spécial"),s})(a),h=0===g.length&&a===c;return s.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 p-4",children:s.jsxDEV(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"w-full max-w-lg bg-slate-800/50 backdrop-blur-lg border border-slate-700/50 rounded-2xl p-8 shadow-2xl",children:[s.jsxDEV("div",{className:"flex flex-col items-center mb-8",children:[f?.logo_url?s.jsxDEV("div",{className:"mb-4 bg-white/10 p-3 rounded-lg",children:s.jsxDEV("img",{src:f.logo_url,alt:"Logo",className:"h-16 object-contain rounded-lg"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:135,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:134,columnNumber:13},void 0):s.jsxDEV("div",{className:"p-3 bg-gradient-to-r from-green-500 to-teal-600 rounded-lg mb-4",children:s.jsxDEV(U,{className:"w-8 h-8 text-white"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:139,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:138,columnNumber:13},void 0),s.jsxDEV("h1",{className:"text-2xl font-bold text-white",children:"Première connexion"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:142,columnNumber:11},void 0),s.jsxDEV("p",{className:"text-slate-400 text-center mt-2",children:1===t?"Définissez votre mot de passe personnel":"Configurez votre phrase secrète de récupération"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:143,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:132,columnNumber:9},void 0),s.jsxDEV("div",{className:"flex items-center justify-center gap-4 mb-8",children:[s.jsxDEV("div",{className:"flex items-center gap-2 "+(t>=1?"text-green-400":"text-slate-500"),children:[t>1?s.jsxDEV(M,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:154,columnNumber:25},void 0):s.jsxDEV("div",{className:"w-5 h-5 border-2 border-current rounded-full flex items-center justify-center text-xs",children:"1"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:154,columnNumber:64},void 0),s.jsxDEV("span",{className:"text-sm font-medium",children:"Mot de passe"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:155,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:153,columnNumber:11},void 0),s.jsxDEV("div",{className:"w-12 h-0.5 bg-slate-600"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:157,columnNumber:11},void 0),s.jsxDEV("div",{className:"flex items-center gap-2 "+(t>=2?"text-blue-400":"text-slate-500"),children:[s.jsxDEV("div",{className:"w-5 h-5 border-2 border-current rounded-full flex items-center justify-center text-xs",children:"2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:159,columnNumber:13},void 0),s.jsxDEV("span",{className:"text-sm font-medium",children:"Phrase secrète"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:160,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:158,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:152,columnNumber:9},void 0),1===t&&s.jsxDEV("form",{onSubmit:e=>{e.preventDefault(),h?i(2):v({variant:"destructive",title:"❌ Mot de passe invalide",description:g.length>0?g.join(", "):"Les mots de passe ne correspondent pas"})},className:"space-y-6",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"new-password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Nouveau mot de passe"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:168,columnNumber:15},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV($,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:172,columnNumber:17},void 0),s.jsxDEV("input",{id:"new-password",type:"password",value:a,onChange:e=>l(e.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Créez un mot de passe sécurisé"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:173,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:171,columnNumber:15},void 0),a&&s.jsxDEV("div",{className:"mt-3 space-y-1",children:["Minimum 12 caractères","Au moins 1 majuscule","Au moins 1 minuscule","Au moins 1 chiffre","Au moins 1 caractère spécial"].map((e,o)=>{const n=-1===g.indexOf(e);return s.jsxDEV("div",{className:"flex items-center gap-2 text-xs "+(n?"text-green-400":"text-slate-500"),children:[n?s.jsxDEV(M,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:191,columnNumber:36},void 0):s.jsxDEV(R,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:191,columnNumber:75},void 0),s.jsxDEV("span",{children:e},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:192,columnNumber:25},void 0)]},o,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:190,columnNumber:23},void 0)})},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:186,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:167,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Confirmer le mot de passe"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:201,columnNumber:15},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:205,columnNumber:17},void 0),s.jsxDEV("input",{id:"confirm-password",type:"password",value:c,onChange:e=>m(e.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Confirmez votre mot de passe"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:206,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:204,columnNumber:15},void 0),c&&a!==c&&s.jsxDEV("p",{className:"mt-2 text-xs text-red-400",children:"Les mots de passe ne correspondent pas"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:217,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:200,columnNumber:13},void 0),s.jsxDEV("div",{className:"flex gap-3",children:[s.jsxDEV(es,{type:"button",onClick:r,className:"flex-1 h-12 bg-slate-600 hover:bg-slate-700 text-white",children:"Annuler"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:222,columnNumber:15},void 0),s.jsxDEV(es,{type:"submit",disabled:!h,className:"flex-1 h-12 text-lg bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuer"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:229,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:221,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:166,columnNumber:11},void 0),2===t&&s.jsxDEV("form",{onSubmit:async s=>{if(s.preventDefault(),u.trim()&&b.trim())if(b.trim().length<3)v({variant:"destructive",title:"❌ Réponse trop courte",description:"La réponse doit contenir au moins 3 caractères"});else{x(!0);try{const{error:s}=await n(e.email,a,u.trim(),b.trim());if(s)return void x(!1)}catch(o){v({variant:"destructive",title:"❌ Erreur",description:"Une erreur inattendue s'est produite"}),x(!1)}}else v({variant:"destructive",title:"❌ Phrase secrète incomplète",description:"Veuillez remplir la question et la réponse"})},className:"space-y-6",children:[s.jsxDEV("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-4",children:s.jsxDEV("div",{className:"flex items-start gap-3",children:[s.jsxDEV(O,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:245,columnNumber:17},void 0),s.jsxDEV("div",{className:"text-sm text-blue-200",children:[s.jsxDEV("p",{className:"font-semibold mb-1",children:"Pourquoi une phrase secrète ?"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:247,columnNumber:19},void 0),s.jsxDEV("p",{className:"text-blue-300",children:"Elle vous permettra de réinitialiser votre mot de passe si vous l'oubliez, sans avoir besoin d'un email."},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:248,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:246,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:244,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:243,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"secret-question",className:"block text-sm font-medium text-slate-300 mb-2",children:"Question secrète"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:256,columnNumber:15},void 0),s.jsxDEV("input",{id:"secret-question",type:"text",value:u,onChange:e=>d(e.target.value),required:!0,maxLength:200,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Quel est le nom de votre premier animal ?"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:259,columnNumber:15},void 0),s.jsxDEV("p",{className:"mt-1 text-xs text-slate-500",children:"Choisissez une question dont vous vous souviendrez"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:269,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:255,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"secret-answer",className:"block text-sm font-medium text-slate-300 mb-2",children:"Réponse secrète"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:273,columnNumber:15},void 0),s.jsxDEV("input",{id:"secret-answer",type:"text",value:b,onChange:e=>p(e.target.value),required:!0,maxLength:100,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Votre réponse (minimum 3 caractères)"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:276,columnNumber:15},void 0),s.jsxDEV("p",{className:"mt-1 text-xs text-slate-500",children:"La réponse n'est pas sensible à la casse"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:286,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:272,columnNumber:13},void 0),s.jsxDEV("div",{className:"flex gap-3",children:[s.jsxDEV(es,{type:"button",onClick:()=>i(1),disabled:N,className:"flex-1 h-12 bg-slate-600 hover:bg-slate-700 text-white",children:"Retour"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:290,columnNumber:15},void 0),s.jsxDEV(es,{type:"submit",disabled:N||!u.trim()||!b.trim(),className:"flex-1 h-12 text-lg bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:N?"En cours...":"Valider"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:298,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:289,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:242,columnNumber:11},void 0),s.jsxDEV("div",{className:"mt-6 text-center text-xs text-slate-600",children:"🔒 Vos informations sont chiffrées et sécurisées"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:310,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:125,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/FirstLoginScreen.jsx",lineNumber:124,columnNumber:5},void 0)},fs=Object.freeze(Object.defineProperty({__proto__:null,default:vs},Symbol.toStringTag,{value:"Module"})),gs=({onBack:e})=>{const[n,r]=o.useState(1),[t,i]=o.useState(""),[a,l]=o.useState(""),[c,m]=o.useState(""),[u,d]=o.useState(""),[b,p]=o.useState(""),[N,x]=o.useState(!1),{toast:v}=Ye(),{getSecretQuestion:f,resetPasswordWithSecretPhrase:g}=xs(),{companyInfo:h}=ls();return s.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 p-4",children:s.jsxDEV(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"w-full max-w-md bg-slate-800/50 backdrop-blur-lg border border-slate-700/50 rounded-2xl p-8 shadow-2xl",children:[s.jsxDEV("div",{className:"flex flex-col items-center mb-8",children:[h?.logo_url?s.jsxDEV("div",{className:"mb-4 bg-white/10 p-3 rounded-lg",children:s.jsxDEV("img",{src:h.logo_url,alt:"Logo",className:"h-16 object-contain rounded-lg"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:135,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:134,columnNumber:13},void 0):s.jsxDEV("div",{className:"p-3 bg-gradient-to-r from-orange-500 to-red-600 rounded-lg mb-4",children:s.jsxDEV(U,{className:"w-8 h-8 text-white"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:139,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:138,columnNumber:13},void 0),s.jsxDEV("h1",{className:"text-2xl font-bold text-white",children:"Mot de passe oublié"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:142,columnNumber:11},void 0),s.jsxDEV("p",{className:"text-slate-400 text-center mt-2",children:1===n?"Saisissez votre identifiant pour commencer":"Répondez à votre question secrète"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:143,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:132,columnNumber:9},void 0),1===n&&s.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),!t.trim())return void v({variant:"destructive",title:"Champ requis",description:"Veuillez saisir votre identifiant"});x(!0);const{error:s,question:o}=await f(t.trim());x(!1),s||(l(o),r(2))},className:"space-y-6",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"identifier",className:"block text-sm font-medium text-slate-300 mb-2",children:"Identifiant"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:155,columnNumber:15},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:159,columnNumber:17},void 0),s.jsxDEV("input",{id:"identifier",type:"text",value:t,onChange:e=>i(e.target.value),required:!0,disabled:N,className:"w-full pl-12 pr-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Email ou matricule"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:160,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:158,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:154,columnNumber:13},void 0),s.jsxDEV("div",{className:"flex gap-3",children:[s.jsxDEV(es,{type:"button",onClick:e,disabled:N,className:"flex-1 h-12 bg-slate-600 hover:bg-slate-700 text-white",children:[s.jsxDEV(W,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:180,columnNumber:17},void 0),"Retour"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:174,columnNumber:15},void 0),s.jsxDEV(es,{type:"submit",disabled:N||!t.trim(),className:"flex-1 h-12 text-lg bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Vérification...":"Continuer"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:183,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:173,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:153,columnNumber:11},void 0),2===n&&s.jsxDEV("form",{onSubmit:async s=>{if(s.preventDefault(),!c.trim())return void v({variant:"destructive",title:"Réponse requise",description:"Veuillez saisir votre réponse"});if(u.length<12)return void v({variant:"destructive",title:"Mot de passe trop court",description:"Le mot de passe doit contenir au moins 12 caractères"});if(u!==b)return void v({variant:"destructive",title:"Mots de passe différents",description:"Les mots de passe ne correspondent pas"});x(!0);const{error:o}=await g(t,c.trim(),u);x(!1),o||(v({title:"✅ Mot de passe réinitialisé",description:"Vous pouvez maintenant vous connecter avec votre nouveau mot de passe"}),setTimeout(()=>{e()},1500))},className:"space-y-6",children:[s.jsxDEV("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:s.jsxDEV("div",{className:"flex items-start gap-3",children:[s.jsxDEV(O,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:200,columnNumber:17},void 0),s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"text-sm font-semibold text-blue-200 mb-1",children:"Votre question secrète :"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:202,columnNumber:19},void 0),s.jsxDEV("p",{className:"text-white",children:a},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:203,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:201,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:199,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:198,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"secret-answer",className:"block text-sm font-medium text-slate-300 mb-2",children:"Réponse secrète"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:210,columnNumber:15},void 0),s.jsxDEV("input",{id:"secret-answer",type:"text",value:c,onChange:e=>m(e.target.value),required:!0,disabled:N,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Votre réponse"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:213,columnNumber:15},void 0),s.jsxDEV("p",{className:"mt-1 text-xs text-slate-500",children:"La réponse n'est pas sensible à la casse"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:223,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:209,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"new-password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Nouveau mot de passe"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:228,columnNumber:15},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV($,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:232,columnNumber:17},void 0),s.jsxDEV("input",{id:"new-password",type:"password",value:u,onChange:e=>d(e.target.value),required:!0,minLength:12,disabled:N,className:"w-full pl-12 pr-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Minimum 12 caractères"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:233,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:231,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:227,columnNumber:13},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Confirmer le mot de passe"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:249,columnNumber:15},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:253,columnNumber:17},void 0),s.jsxDEV("input",{id:"confirm-password",type:"password",value:b,onChange:e=>p(e.target.value),required:!0,disabled:N,className:"w-full pl-12 pr-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Confirmez votre mot de passe"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:254,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:252,columnNumber:15},void 0),b&&u!==b&&s.jsxDEV("p",{className:"mt-2 text-xs text-red-400",children:"Les mots de passe ne correspondent pas"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:266,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:248,columnNumber:13},void 0),s.jsxDEV("div",{className:"flex gap-3",children:[s.jsxDEV(es,{type:"button",onClick:()=>{r(1),l(""),m(""),d(""),p("")},disabled:N,className:"flex-1 h-12 bg-slate-600 hover:bg-slate-700 text-white",children:"Retour"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:271,columnNumber:15},void 0),s.jsxDEV(es,{type:"submit",disabled:N||!c.trim()||!u||u!==b,className:"flex-1 h-12 text-lg bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:N?"En cours...":"Réinitialiser"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:279,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:270,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:196,columnNumber:11},void 0),s.jsxDEV("div",{className:"mt-6 text-center text-xs text-slate-600",children:"🔒 Récupération sécurisée sans email"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:291,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:125,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ForgotPasswordScreen.jsx",lineNumber:124,columnNumber:5},void 0)};gs.propTypes={onBack:n.func.isRequired};const hs=()=>{const[e,n]=o.useState(""),[r,t]=o.useState(""),[i,a]=o.useState(!1),[l,c]=o.useState(!1),[m,u]=o.useState(!1),{toast:d}=Ye(),{signIn:b}=xs(),{companyInfo:p}=ls(),N=()=>{c(!1),u(!1),t("")};return l?s.jsxDEV(vs,{identifier:e,onBack:N},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:94,columnNumber:12},void 0):m?s.jsxDEV(gs,{onBack:N},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:99,columnNumber:12},void 0):s.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 p-4",children:s.jsxDEV(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"w-full max-w-md bg-slate-800/50 backdrop-blur-lg border border-slate-700/50 rounded-2xl p-8 shadow-2xl",children:[s.jsxDEV("div",{className:"flex flex-col items-center mb-8",children:[p?.logo_url?s.jsxDEV("div",{className:"mb-4 bg-white/10 p-3 rounded-lg",children:s.jsxDEV("img",{src:p.logo_url,alt:"Logo",className:"h-16 object-contain rounded-lg"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:115,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:114,columnNumber:13},void 0):s.jsxDEV("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg mb-4",children:s.jsxDEV(U,{className:"w-8 h-8 text-white"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:119,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:118,columnNumber:13},void 0),s.jsxDEV("h1",{className:"text-3xl font-bold text-white",children:p?.name||"LEGALSUITE"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:122,columnNumber:11},void 0),s.jsxDEV("p",{className:"text-slate-400",children:"Connectez-vous à votre espace"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:123,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:112,columnNumber:9},void 0),s.jsxDEV("form",{onSubmit:async s=>{if(s.preventDefault(),e&&r){a(!0);try{const{error:s,mustChangePassword:o}=await b(e,r);if(!s&&o)return c(!0),void a(!1)}catch(o){d({variant:"destructive",title:"Erreur",description:"Une erreur inattendue s'est produite"})}finally{a(!1)}}else d({variant:"destructive",title:"Champs requis",description:"Veuillez remplir tous les champs"})},className:"space-y-6",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"identifier",className:"block text-sm font-medium text-slate-300 mb-2",children:"Identifiant"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:129,columnNumber:13},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:133,columnNumber:15},void 0),s.jsxDEV("input",{id:"identifier",type:"text",value:e,onChange:e=>n(e.target.value),required:!0,disabled:i,className:"w-full pl-12 pr-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email ou matricule"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:134,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:132,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:128,columnNumber:11},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Mot de passe"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:148,columnNumber:13},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV($,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:152,columnNumber:15},void 0),s.jsxDEV("input",{id:"password",type:"password",value:r,onChange:e=>t(e.target.value),required:!0,disabled:i,className:"w-full pl-12 pr-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"••••••••"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:153,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:151,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:147,columnNumber:11},void 0),s.jsxDEV(es,{type:"submit",disabled:i,className:"w-full h-12 text-lg bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Connexion en cours...":"Connexion"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:166,columnNumber:11},void 0),s.jsxDEV("div",{className:"text-center",children:s.jsxDEV("button",{type:"button",onClick:()=>u(!0),disabled:i,className:"inline-flex items-center gap-2 text-sm text-slate-400 hover:text-blue-400 transition-colors",children:[s.jsxDEV(O,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:182,columnNumber:15},void 0),"Mot de passe oublié ?"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:176,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:175,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:127,columnNumber:9},void 0),s.jsxDEV("div",{className:"mt-6 text-center text-xs text-slate-600",children:"🔒 Connexion sécurisée"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:189,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:105,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/LoginScreen.jsx",lineNumber:104,columnNumber:5},void 0)},Ds=({isOpen:e,remainingSeconds:o,onExtend:n,onLogout:r})=>{if(!e)return null;return s.jsxDEV(J,{children:e&&s.jsxDEV("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[s.jsxDEV(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:n},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:27,columnNumber:11},void 0),s.jsxDEV(V.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-slate-800 border border-slate-700 rounded-xl p-8 w-full max-w-md shadow-2xl",children:[s.jsxDEV("div",{className:"flex justify-center mb-6",children:s.jsxDEV("div",{className:"p-4 bg-yellow-500/20 rounded-full border-2 border-yellow-500/50",children:s.jsxDEV(P,{className:"w-12 h-12 text-yellow-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:45,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:44,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:43,columnNumber:13},void 0),s.jsxDEV("h2",{className:"text-2xl font-bold text-white text-center mb-3",children:"Session expirée bientôt"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:50,columnNumber:13},void 0),s.jsxDEV("p",{className:"text-slate-400 text-center mb-6",children:"Votre session sera automatiquement fermée dans :"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:55,columnNumber:13},void 0),s.jsxDEV("div",{className:"flex items-center justify-center gap-3 mb-8",children:[s.jsxDEV(L,{className:"w-6 h-6 text-blue-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:61,columnNumber:15},void 0),s.jsxDEV("div",{className:"text-4xl font-bold "+(o<=10?"text-red-400 animate-pulse":"text-white"),children:(t=o,`${Math.floor(t/60)}:${(t%60).toString().padStart(2,"0")}`)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:62,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:60,columnNumber:13},void 0),s.jsxDEV("p",{className:"text-sm text-slate-500 text-center mb-6",children:"Vous avez été inactif pendant un certain temps. Pour des raisons de sécurité, votre session sera fermée automatiquement."},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:70,columnNumber:13},void 0),s.jsxDEV("div",{className:"flex gap-3",children:[s.jsxDEV(es,{onClick:n,className:"flex-1 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 h-12",children:[s.jsxDEV(L,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:81,columnNumber:17},void 0),"Rester connecté"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:77,columnNumber:15},void 0),s.jsxDEV(es,{onClick:r,variant:"outline",className:"flex-1 border-slate-600 text-slate-300 hover:bg-slate-700 h-12",children:[s.jsxDEV(S,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:89,columnNumber:17},void 0),"Se déconnecter"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:84,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:76,columnNumber:13},void 0),s.jsxDEV("p",{className:"text-xs text-slate-600 text-center mt-4",children:"🔒 Cette mesure protège vos données en cas d'oubli de déconnexion"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:95,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:36,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:25,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/SessionExpiryModal.jsx",lineNumber:23,columnNumber:5},void 0);var t},js=()=>{const[e,n]=o.useState(!0),[r,t]=o.useState(!0),[i,a]=o.useState(!1);o.useEffect(()=>{if("true"===sessionStorage.getItem("pdf-service-alert-dismissed"))return a(!0),void t(!1);l();const e=setInterval(l,3e4);return()=>clearInterval(e)},[]);const l=async()=>{try{const e=await fetch("http://localhost:3001/health",{method:"GET",signal:AbortSignal.timeout(2e3)});if(e.ok){const s=await e.json();n("ok"===s.status)}else n(!1)}catch(e){n(!1)}finally{t(!1)}};return r||e||i?null:s.jsxDEV("div",{className:"fixed top-0 left-0 right-0 z-50 bg-amber-500/95 backdrop-blur-sm border-b border-amber-600 shadow-lg",children:s.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 py-3",children:s.jsxDEV("div",{className:"flex items-start gap-3",children:[s.jsxDEV(P,{className:"w-5 h-5 text-amber-900 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/PdfServiceAlert.jsx",lineNumber:69,columnNumber:11},void 0),s.jsxDEV("div",{className:"flex-1 min-w-0",children:[s.jsxDEV("p",{className:"text-sm font-medium text-amber-900",children:"Service de normalisation PDF non démarré"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/PdfServiceAlert.jsx",lineNumber:72,columnNumber:13},void 0),s.jsxDEV("p",{className:"text-xs text-amber-800 mt-1",children:'Les PDF uploadés ne seront pas optimisés pour l\'affichage. Des erreurs "TT undefined" peuvent apparaître lors de la visualisation.'},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/PdfServiceAlert.jsx",lineNumber:75,columnNumber:13},void 0),s.jsxDEV("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[s.jsxDEV("button",{onClick:()=>{window.open("/QUICK_START_PDF.md","_blank")},className:"inline-flex items-center gap-1.5 text-xs font-medium text-amber-900 hover:text-amber-950 transition-colors",children:[s.jsxDEV(H,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/PdfServiceAlert.jsx",lineNumber:88,columnNumber:17},void 0),"Voir la documentation"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/PdfServiceAlert.jsx",lineNumber:81,columnNumber:15},void 0),s.jsxDEV("code",{className:"text-xs bg-amber-600/30 text-amber-950 px-2 py-1 rounded font-mono",children:"./start-with-pdf-service.sh"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/PdfServiceAlert.jsx",lineNumber:92,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/PdfServiceAlert.jsx",lineNumber:80,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/PdfServiceAlert.jsx",lineNumber:71,columnNumber:11},void 0),s.jsxDEV("button",{onClick:()=>{a(!0),sessionStorage.setItem("pdf-service-alert-dismissed","true")},className:"p-1 text-amber-900 hover:text-amber-950 hover:bg-amber-600/30 rounded transition-colors flex-shrink-0",title:"Masquer pour cette session",children:s.jsxDEV(p,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/PdfServiceAlert.jsx",lineNumber:103,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/PdfServiceAlert.jsx",lineNumber:98,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/PdfServiceAlert.jsx",lineNumber:68,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/PdfServiceAlert.jsx",lineNumber:67,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/PdfServiceAlert.jsx",lineNumber:66,columnNumber:5},void 0)};async function ws(e=[],s="attachments"){if(!Array.isArray(e)||0===e.length)return[];return await Promise.all(e.map(async e=>{try{return e.file_url&&e.file_url.startsWith("http")?{...e,valid_url:e.file_url,is_accessible:!0}:{...e,valid_url:null,is_accessible:!1}}catch(s){return{...e,valid_url:null,is_accessible:!1}}}))}async function Cs(e,s={}){const o=e.includes(".supabase.co"),n={...s.headers||{}};if(o){const e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZodXprdWJueHVldGFrcHhrd2xyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxMTE4MTEsImV4cCI6MjA3NDY4NzgxMX0.6_fLQrCtBdYAKNXgT2fAo6vHVfhe3DmISq7F-egfyUY";n.apikey||(n.apikey=e,n.Authorization=`Bearer ${e}`)}const r={...s,headers:n,mode:"cors"};return fetch(e,r)}async function ys(e){if(!e||!e.startsWith("http"))return!1;try{return(await Cs(e,{method:"HEAD"})).ok}catch{return!1}}async function Es(e){const s=await Cs(e);if(!s.ok)throw new Error(`Échec du téléchargement: ${s.status} ${s.statusText}`);return s.blob()}const zs=Object.freeze(Object.defineProperty({__proto__:null,downloadFileWithCors:Es,fetchWithCors:Cs,validateUrlWithCors:ys},Symbol.toStringTag,{value:"Module"}));async function Vs(e,s){try{const{data:o,error:n}=await ss.from("tasks_files").select("*").eq("task_id",e).order("created_at",{ascending:!1});if(n){const e=Us(s);return await ws(e)}if(o&&o.length>0){return await Promise.all(o.map(async e=>{const s=await async function(e){return ys(e)}(e.file_url);return{...e,is_accessible:s,valid_url:s?e.file_url:null,source:"tasks_files"}}))}const r=Us(s);return await ws(r)}catch(o){const e=Us(s);return await ws(e)}}function Us(e){if(!e)return[];return(Array.isArray(e)?e:function(e){try{const s=JSON.parse(e);return Array.isArray(s)?s:[]}catch{return e?[e]:[]}}(e)).map((e,s)=>({id:`att-${s}`,file_name:e.split("/").pop()||`fichier-${s+1}`,file_url:e,file_size:null,file_type:null,created_at:null,source:"attachments"}))}function Gs(e){if(!e||!e.name)return!1;const s=e.name.trim().replace(/[\)\]\}]+\s*$/g,""),o=s.lastIndexOf(".");let n="";if(o>0){n=s.substring(o+1).replace(/[^a-z0-9]/gi,"").toLowerCase()}const r=["doc","docx"];if(!r.includes(n))return!1;return["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(e.type)||r.includes(n)}async function Ss(e){try{if(!Gs(e))throw new Error("Le fichier n'est pas un document Word");const s=await async function(e){try{const s=new FormData;s.append("file",e);const o=await fetch("http://localhost:3001/convert-word-to-pdf",{method:"POST",body:s,headers:{Accept:"application/pdf"}});if(!o.ok)return null;const n=await o.blob();if(n.size<100)return null;const r=e.name.replace(/\.(doc|docx)$/i,".pdf");return new File([n],r,{type:"application/pdf"})}catch(s){return null}}(e);if(s)return s;const o=await async function(e){try{const[s,{jsPDF:o}]=await Promise.all([_s(),ks()]);if(!s||!o)return null;const n=await e.arrayBuffer(),r=(await s.extractRawText({arrayBuffer:n})).value;if(!r||0===r.trim().length)return null;const t=new o({orientation:"portrait",unit:"mm",format:"a4"}),i=t.splitTextToSize(r,180);let a=20;const l=7,c=280;i.forEach(e=>{a>c&&(t.addPage(),a=20),t.text(e,15,a),a+=l});const m=t.output("blob"),u=e.name.replace(/\.(doc|docx)$/i,".pdf");return new File([m],u,{type:"application/pdf"})}catch(s){return null}}(e);if(o)return o;throw new Error("Échec de la conversion Word vers PDF")}catch(s){throw s}}async function _s(){try{return window.mammoth?window.mammoth:new Promise((e,s)=>{const o=document.createElement("script");o.src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js",o.async=!0,o.onload=()=>e(window.mammoth),o.onerror=()=>s(new Error("Échec du chargement de mammoth.js")),document.head.appendChild(o)})}catch(e){return null}}async function ks(){try{return window.jspdf?window.jspdf:new Promise((e,s)=>{const o=document.createElement("script");o.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js",o.async=!0,o.onload=()=>e(window.jspdf),o.onerror=()=>s(new Error("Échec du chargement de jsPDF")),document.head.appendChild(o)})}catch(e){return null}}const Fs=Object.freeze(Object.defineProperty({__proto__:null,convertWordToPdf:Ss,isWordDocument:Gs},Symbol.toStringTag,{value:"Module"}));function Ls(e){if(!e||!e.name)return!1;const s=e.name.trim().replace(/[\)\]\}]+\s*$/g,""),o=s.lastIndexOf(".");let n="";if(o>0){n=s.substring(o+1).replace(/[^a-z0-9]/gi,"").toLowerCase()}const r="pdf"===n,t=["application/pdf"].includes(e.type);return r||t}async function Ps(e){try{if(!Ls(e))return e;const s=await async function(e){try{const s=new FormData;s.append("file",e);const o=await fetch("http://localhost:3001/normalize-pdf",{method:"POST",body:s,headers:{Accept:"application/pdf"}});if(!o.ok)return null;const n=await o.blob();if(n.size<100)return null;const r=e.name.replace(".pdf","_normalized.pdf");return new File([n],r,{type:"application/pdf"})}catch(s){return null}}(e);if(s)return s;const o=await async function(e){try{const s=await async function(){try{return window.PDFLib?window.PDFLib:new Promise((e,s)=>{const o=document.createElement("script");o.src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js",o.async=!0,o.onload=()=>{window.PDFLib?e(window.PDFLib):s(new Error("PDFLib non disponible après chargement"))},o.onerror=()=>s(new Error("Échec du chargement de pdf-lib")),document.head.appendChild(o)})}catch(e){return null}}();if(!s)return null;const o=await e.arrayBuffer(),n=await s.PDFDocument.load(o,{ignoreEncryption:!0,updateMetadata:!1}),r=await n.save({useObjectStreams:!1,addDefaultPage:!1,objectsPerTick:50,updateFieldAppearances:!0});if(r.byteLength<100)return null;const t=new Blob([r],{type:"application/pdf"}),i=e.name.replace(".pdf","_optimized.pdf");return new File([t],i,{type:"application/pdf"})}catch(s){return null}}(e);return o||e}catch(s){return e}}async function As(e,s,o=null,n=null){try{if(!s||"string"!=typeof s||""===s.trim())return{success:!1,error:"ID de tâche manquant. Veuillez créer la tâche avant d'uploader des fichiers."};const{data:a,error:l}=await ss.from("tasks").select("id").eq("id",s).single();if(l||!a)return{success:!1,error:"La tâche n'existe pas. Veuillez enregistrer la tâche avant d'uploader des fichiers."};const c=52428800;if(e.size>c){return{success:!1,error:`Fichier trop volumineux (${(e.size/1024/1024).toFixed(2)} Mo). Limite: 50 Mo.`}}let m=e,u=e.name,d=!1,b=!1;if(Gs(e))try{const s=await Ss(e);s&&(m=s,d=!0)}catch(r){}if(Ls(m))try{const e=await Ps(m);if(e&&e!==m){(m.size/1024).toFixed(2),(e.size/1024).toFixed(2);m=e,b=!0}}catch(t){}const p=Date.now(),N=m.name.replaceAll(/[^a-zA-Z0-9.-]/g,"_"),x=`tasks/${s}/${`${p}_${N}`}`;let v="";v=d&&b?`📤 Upload du PDF converti et optimisé "${m.name}" (original: "${u}") pour la tâche ${s}...`:d?`📤 Upload du PDF converti "${m.name}" (original: "${u}") pour la tâche ${s}...`:b?`📤 Upload du PDF optimisé "${m.name}" (${(m.size/1024).toFixed(2)} Ko) pour la tâche ${s}...`:`📤 Upload du fichier "${m.name}" (${(m.size/1024).toFixed(2)} Ko) pour la tâche ${s}...`;const{error:f}=await ss.storage.from("attachments").upload(x,m,{cacheControl:"3600",upsert:!0});if(f){if(f.message?.includes("Bucket not found")||f.message?.includes("bucket"))try{if(!(await Is(!1)))return{success:!1,error:"Bucket 'attachments' non configuré. Créez-le dans Supabase Dashboard > Storage."};{const{error:e}=await ss.storage.from("attachments").upload(x,m,{cacheControl:"3600",upsert:!0});if(e)return{success:!1,error:e.message}}}catch(i){return{success:!1,error:f.message}}return{success:!1,error:f.message}}const{data:g}=ss.storage.from("attachments").getPublicUrl(x),h=g?.publicUrl;if(!h)return{success:!1,error:"URL publique non générée"};const D=null;let j=m.name;d&&b?j=`${m.name} (converti et optimisé depuis ${u})`:d?j=`${m.name} (converti depuis ${u})`:b&&(j=`${m.name} (optimisé pour PDF.js)`);let w=null;try{const{data:e}=await ss.from("tasks").select("case_id").eq("id",s).single();e&&e.case_id&&(w=e.case_id)}catch(i){}const C=await async function(e,s,o,n=null,r=null,t=null,a=null,l=null,c=null){try{if(!o||"string"==typeof o&&""===o.trim())return{success:!1,error:{message:"Aucune URL publique fournie — upload Storage non effectué"}};if(e){const{data:s,error:o}=await ss.from("tasks").select("id").eq("id",e).single();if(o||!s)return{success:!1,error:{message:`Le task_id "${e}" n'existe pas. Veuillez créer la tâche avant d'uploader des fichiers.`,code:"INVALID_TASK_ID"}}}if(l){const{data:e,error:s}=await ss.from("cases").select("id").eq("id",l).single();!s&&e||(l=null)}let i=null;if("number"==typeof n&&Number.isFinite(n))i=n;else if("string"==typeof n&&""!==n.trim()){const e=parseInt(n,10);i=Number.isFinite(e)?e:null}const m={task_id:e,case_id:l,file_name:s,file_url:o,file_size:i,file_type:r,document_category:c,created_by:t};a&&"string"==typeof a&&a.length>0&&(m.file_data=a);const{data:u,error:d}=await ss.from("tasks_files").insert(m).select().single();return d?{success:!1,error:d}:{success:!0,data:u}}catch(i){return{success:!1,error:i}}}(s,j,h,m.size,m.type,o,D,w,n);if(!C.success)return{success:!1,error:`Fichier uploadé mais métadonnées non sauvegardées: ${C.error?.message||C.error}`};let y="";y=d&&b?`✅ Métadonnées enregistrées (id: ${C.data?.id}) - "${u}" converti, optimisé et lié à la tâche ${s}`:d?`✅ Métadonnées enregistrées (id: ${C.data?.id}) - "${u}" converti en PDF et lié à la tâche ${s}`:b?`✅ Métadonnées enregistrées (id: ${C.data?.id}) - PDF optimisé et lié à la tâche ${s}`:`✅ Métadonnées enregistrées (id: ${C.data?.id}) pour le fichier "${m.name}" lié à la tâche ${s}`;const E={success:!0,data:{id:C.data?.id||null,task_id:s,file_name:j,file_url:h,file_size:m.size,file_type:m.type,document_category:n,created_at:(new Date).toISOString(),created_by:o,is_accessible:!0,valid_url:h,source:"tasks_files",was_converted:d,was_optimized:b,original_name:d?u:void 0}};let z="";return z=d&&b?`✅ Document Word "${u}" converti, optimisé et uploadé avec succès - ID: ${C.data?.id}`:d?`✅ Document Word "${u}" converti en PDF et uploadé avec succès - ID: ${C.data?.id}`:b?`✅ PDF "${u}" optimisé et uploadé avec succès - ID: ${C.data?.id}`:`✅ Fichier "${m.name}" enregistré et lié à la tâche ${s} — ID: ${C.data?.id}`,E}catch(a){return{success:!1,error:a.message}}}async function Is(e=!1){try{const{data:e,error:o}=await ss.storage.listBuckets();if(o)return!1;const n=e?.some(e=>"attachments"===e.name);if(!n){try{const{data:e,error:s}=await ss.rpc("create_attachments_bucket");if(s)return!(!s.message?.includes("existe déjà")&&!s.message?.includes("already exists"));const{data:o,error:n}=await ss.storage.listBuckets();if(!n){const e=o?.some(e=>"attachments"===e.name);if(e)return!0}if(e?.message?.includes("existe"))return!0}catch(s){}return!0}return!0}catch(o){return!1}}const Ts=Object.freeze(Object.defineProperty({__proto__:null,ensureAttachmentsBucket:Is,getConvertedPdfUrl:async function(e){try{if(!e||!e.file_url)return null;const s=e.original_name||e.file_name||"",o=s.trim().replace(/[\)\]\}]+\s*$/g,""),n=o.lastIndexOf(".");let r="";if(n>0){r=o.substring(n+1).replace(/[^a-z0-9]/gi,"").toLowerCase()}if("pdf"===r)return e.file_url;if(!["doc","docx"].includes(r))return null;const t=await fetch(e.file_url);if(!t.ok)return null;const i=await t.blob();let a=s;const c=s.match(/\(converti et optimisé depuis (.+?)\)$/);c&&(a=c[1]);const m=new File([i],a,{type:i.type}),{convertWordToPdf:u}=await l(async()=>{const{convertWordToPdf:e}=await Promise.resolve().then(()=>Fs);return{convertWordToPdf:e}},void 0),d=await u(m);if(!d)return null;return URL.createObjectURL(d)}catch(s){return null}},uploadMultipleTaskFiles:async function(e,s,o=null){const n={successes:[],errors:[],total:e.length},r=e.map(e=>As(e,s,o)),t=await Promise.allSettled(r);for(const a of t)if("fulfilled"===a.status){const e=a.value;e&&e.success?n.successes.push(e.data):n.errors.push({fileName:e?.data?.file_name||"unknown",error:e?.error||"unknown"})}else n.errors.push({fileName:"unknown",error:a.reason?.message||String(a.reason)});const i={success:0===n.errors.length,data:n.successes,errors:n.errors,summary:`${n.successes.length}/${n.total} fichiers uploadés`};return i.success&&n.successes.length,i},uploadMultipleTaskFilesWithCategory:async function(e,s,o=null,n=null){const r={successes:[],errors:[],total:e.length},t=e.map(e=>As(e,s,o,n)),i=await Promise.allSettled(t);for(const l of i)if("fulfilled"===l.status){const e=l.value;e&&e.success?r.successes.push(e.data):r.errors.push({fileName:e?.data?.file_name||"unknown",error:e?.error||"unknown"})}else r.errors.push({fileName:"unknown",error:l.reason?.message||String(l.reason)});const a={success:0===r.errors.length,data:r.successes,errors:r.errors,summary:`${r.successes.length}/${r.total} fichiers uploadés avec catégorie "${n}"`};return a.success&&r.successes.length,a},uploadTaskFile:As},Symbol.toStringTag,{value:"Module"}));let Ms=null;async function $s(){return Ms||(Ms=(async()=>{const e={database:!1,storage:!1,activities:!1,errors:[]},s=await async function(){try{const{error:e}=await ss.rpc("fix_activities_rls_policy",{});return!e}catch{return!1}}();e.activities=s;const o=await async function(){try{const{error:e}=await ss.rpc("fix_tasks_files_rls_policy",{});return!e}catch{return!1}}(),n=await async function(){return!1}();e.database=n&&o;const r=await Is();return e.storage=r,await async function(){return!1}(),{success:!0,partial:e.database||e.storage||e.activities,details:e}})(),Ms)}function Rs(e){K(e?{id:e.id,email:e.email,role:e.role}:null)}const qs=o.lazy(()=>l(()=>import("./TaskManager-Z3yz7hlj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),Os=o.lazy(()=>l(()=>import("./ClientManager-D1IYnmpA.js"),__vite__mapDeps([9,3,2,5,10,7,1,8]))),Bs=o.lazy(()=>l(()=>import("./CaseManager-T1RB9SWH.js"),__vite__mapDeps([11,3,2,5,10,7,1,8]))),Ws=o.lazy(()=>l(()=>import("./Calendar-TzoW7-ay.js"),__vite__mapDeps([12,3,2,5,13,1,8]))),Js=o.lazy(()=>l(()=>import("./Reports-B6J35RxQ.js"),__vite__mapDeps([14,3,2,13,5,8,1]))),Hs=o.lazy(()=>l(()=>import("./TeamManager-PK8GoQSc.js"),__vite__mapDeps([15,3,2,5,7,1,8]))),Xs=o.lazy(()=>l(()=>import("./DocumentManager-DULEIAZ4.js"),__vite__mapDeps([16,3,2,5,6,1,8]))),Ks=o.lazy(()=>l(()=>import("./Settings-DIrrYcXY.js"),__vite__mapDeps([17,3,2,4,5,18,1,8]))),Ys=o.lazy(()=>l(()=>import("./BillingManager-BV52GFZd.js"),__vite__mapDeps([19,3,2,18,5,1,8]))),Zs=()=>s.jsxDEV("div",{className:"flex items-center justify-center h-full min-h-[400px]",children:s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV(X,{className:"w-12 h-12 text-blue-500 animate-spin mx-auto mb-3"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:32,columnNumber:11},void 0),s.jsxDEV("p",{className:"text-slate-400 text-sm",children:"Chargement du module..."},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:33,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:31,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:30,columnNumber:7},void 0);function Qs(){const[n,i]=o.useState("dashboard"),[a,c]=o.useState(!1),{user:m,loading:u,signOut:d,mustChangePassword:b}=xs();Ye();const p=parseInt(localStorage.getItem("app_auto_logout_minutes")||"15"),{showWarning:N,remainingSeconds:x,extendSession:v,forceLogout:f}=((e,s=15)=>{const[n,r]=o.useState(!1),[t,i]=o.useState(60),a=o.useRef(null),l=o.useRef(null),c=o.useRef(null),m=o.useRef(Date.now()),u=60*s*1e3,d=o.useCallback(()=>{a.current&&(clearTimeout(a.current),a.current=null),l.current&&(clearTimeout(l.current),l.current=null),c.current&&(clearInterval(c.current),c.current=null)},[]),b=o.useCallback(()=>{d(),r(!1),e&&e()},[e,d]),p=o.useCallback(()=>{d(),r(!1),i(60),m.current=Date.now(),l.current=setTimeout(()=>{r(!0),i(60),c.current=setInterval(()=>{i(e=>e<=1?(b(),0):e-1)},1e3)},u-6e4),a.current=setTimeout(()=>{b()},u)},[u,b,d]),N=o.useCallback(()=>{p()},[p]);return o.useEffect(()=>{const e=["mousedown","mousemove","keypress","scroll","touchstart","click"],s=()=>{Date.now()-m.current>5e3&&p()};return e.forEach(e=>{window.addEventListener(e,s)}),p(),()=>{e.forEach(e=>{window.removeEventListener(e,s)}),d()}},[p,d]),{showWarning:n,remainingSeconds:t,extendSession:N,forceLogout:b}})(m?d:null,p);o.useEffect(()=>{},[]),o.useEffect(()=>{Rs(m?{id:m.id,email:m.email,role:m.role}:null)},[m]),o.useEffect(()=>{m&&!u?(async()=>{if(m&&!u&&!a)try{await $s(),c(!0)}catch{c(!0)}})():m||c(!1)},[m,u,a]);if(u||m&&!a)return s.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV(X,{className:"w-16 h-16 text-white animate-spin mx-auto mb-4"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:133,columnNumber:15},this),m&&!a&&s.jsxDEV("p",{className:"text-white/70 text-sm",children:"Initialisation de l'infrastructure..."},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:135,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:132,columnNumber:13},this)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:131,columnNumber:11},this);if(!m)return s.jsxDEV(hs,{},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:145,columnNumber:14},this);if(b){const o=e.lazy(()=>l(()=>Promise.resolve().then(()=>fs),void 0));return s.jsxDEV(e.Suspense,{fallback:s.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:s.jsxDEV(X,{className:"w-16 h-16 text-white animate-spin"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:154,columnNumber:13},this)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:153,columnNumber:11},this),children:s.jsxDEV(o,{},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:157,columnNumber:11},this)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:152,columnNumber:9},this)}return s.jsxDEV(r,{children:[s.jsxDEV(t,{children:[s.jsxDEV("title",{children:"LEGALSUITE - Gestion de Cabinet Juridique"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:165,columnNumber:11},this),s.jsxDEV("meta",{name:"description",content:"LEGALSUITE - Solution complète de gestion pour cabinets d'avocats. Gérez vos dossiers, clients, tâches, facturation et collaborateurs efficacement."},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:166,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:164,columnNumber:9},this),"          ",s.jsxDEV(js,{},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:168,columnNumber:11},this),s.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 print:bg-white",children:[s.jsxDEV("div",{className:"flex",children:[s.jsxDEV(us,{activeView:n,setActiveView:i,currentUser:m,onLogout:async()=>{await d(),i("dashboard")}},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:172,columnNumber:15},this),s.jsxDEV("main",{className:"flex-1 ml-64 print:ml-0",children:s.jsxDEV(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"p-6 print:p-0",children:(()=>{const e=(()=>{switch(n){case"dashboard":return s.jsxDEV(ds,{currentUser:m,setActiveView:i},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:99,columnNumber:18},this);case"tasks":return s.jsxDEV(qs,{currentUser:m},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:101,columnNumber:18},this);case"clients":return s.jsxDEV(Os,{currentUser:m},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:103,columnNumber:18},this);case"cases":return s.jsxDEV(Bs,{currentUser:m},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:105,columnNumber:18},this);case"calendar":return s.jsxDEV(Ws,{currentUser:m},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:107,columnNumber:18},this);case"team":return s.jsxDEV(Hs,{currentUser:m},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:109,columnNumber:18},this);case"reports":return s.jsxDEV(Js,{currentUser:m},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:111,columnNumber:18},this);case"documents":return s.jsxDEV(Xs,{currentUser:m},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:113,columnNumber:18},this);case"billing":return s.jsxDEV(Ys,{currentUser:m},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:115,columnNumber:18},this);case"settings":return s.jsxDEV(Ks,{currentUser:m},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:117,columnNumber:18},this);default:return s.jsxDEV(ds,{currentUser:m,setActiveView:i},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:119,columnNumber:18},this)}})();return"dashboard"===n?e:s.jsxDEV(o.Suspense,{fallback:s.jsxDEV(Zs,{},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:125,columnNumber:27},this),children:e},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:125,columnNumber:7},this)})()},n,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:180,columnNumber:17},this)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:179,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:171,columnNumber:13},this),s.jsxDEV(Ze,{},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:192,columnNumber:13},this),s.jsxDEV(Ds,{isOpen:N&&!!m,remainingSeconds:x,onExtend:v,onLogout:f},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:195,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/App.jsx",lineNumber:163,columnNumber:7},this)}i.createRoot(document.getElementById("root")).render(s.jsxDEV(e.StrictMode,{children:s.jsxDEV(Y,{fallback:s.jsxDEV("div",{children:"Une erreur est survenue"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/main.jsx",lineNumber:10,columnNumber:37},void 0),showDialog:!0,children:s.jsxDEV(Ns,{children:s.jsxDEV(Qs,{},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/main.jsx",lineNumber:12,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/main.jsx",lineNumber:11,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/main.jsx",lineNumber:10,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/main.jsx",lineNumber:9,columnNumber:3},void 0));export{es as B,ls as a,Qe as b,Ae as c,Es as d,rs as e,cs as f,Vs as g,ts as h,ms as i,is as j,Me as k,Ye as l,zs as m,Ts as n,ss as s,Ke as t,xs as u};
