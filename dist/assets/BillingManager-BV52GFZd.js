import{r as e,f as n,P as i}from"./vendor-react-CWhE6-Gf.js";import{a as o,B as s,s as t,t as r}from"./index-BzUzpWLW.js";import{i as m,h as a}from"./permissionsUtils-ZkRZ7LKG.js";import{m as l,X as c,n as u,u as d,F as b,a5 as p,q as N,a8 as x,i as v,l as g,j,b as D,I as f,d as h}from"./vendor-ui-BBpB3Q8s.js";import"./sentry-CxmcrLP_.js";import"./vendor-supabase-CR9Q8AJ3.js";import"./vendor-charts-BY8kkf7J.js";function V(e){if(0===e)return"z√©ro";const n=["","un","deux","trois","quatre","cinq","six","sept","huit","neuf"],i=["dix","onze","douze","treize","quatorze","quinze","seize","dix-sept","dix-huit","dix-neuf"],o=["","dix","vingt","trente","quarante","cinquante","soixante","soixante-dix","quatre-vingt","quatre-vingt-dix"];function s(e){if(e<10)return n[e];if(e<20)return i[e-10];if(e<70||e>79&&e<90){const i=Math.floor(e/10),s=e%10;return 1===s&&8!==i?`${o[i]}-et-un`:`${o[i]}${s>0?"-"+n[s]:""}`}if(e<80)return`${o[6]}-${i[e-70]}`;if(e<100)return`${o[8]}-${i[e-90]}`;if(e<200)return"cent"+(e>100?" "+s(e%100):"");if(e<1e3){const i=Math.floor(e/100),o=e%100;return`${n[i]} cent${o>0?" "+s(o):i>1?"s":""}`}return""}function t(e,n,i){if(0===e)return"";let o="";return e>1?(o=s(e)+" "+n,i&&(o+="s")):o=("mille"===n?"":"un ")+n,o}let r=[];const m=Math.floor(e/1e9),a=Math.floor(e%1e9/1e6),l=Math.floor(e%1e6/1e3),c=e%1e3;m>0&&r.push(t(m,"milliard",m>1)),a>0&&r.push(t(a,"million",a>1)),l>0&&(1===l?r.push("mille"):r.push(s(l).replace(/un$/,"")+" mille")),c>0&&r.push(s(c));let u=r.join(" ").trim();return u=u.replace(/quatre-vingt un/g,"quatre-vingt-un"),u=u.replace(/cent s/g,"cents"),u=u.replace(/vingt un/g,"vingt-et-un"),u}const C=e=>{if(""===e||null==e)return"";const n=Number(e);return isNaN(n)?"0":new Intl.NumberFormat("fr-FR").format(n)},E=e=>{if("string"!=typeof e)return 0;const n=Number(e.replace(/\s/g,"").replace(/[^0-9]/g,""));return isNaN(n)?0:n},z=({invoice:i,onSubmit:r,onCancel:N,onPrint:x,currentUser:v})=>{const{companyInfo:g}=o(),j=m(v),D=v?.permissions||{},f=j||a(D,"billing","edit")||"Avocat"===v?.function||"avocat"===v?.role||"Secretaire"===v?.function||"secretaire"===v?.role;j||a(D,"billing","create");const[h,z]=e.useState([]),[y,U]=e.useState(!1),[G,w]=e.useState({clientName:"",caseId:"",caseTitle:"",invoice_type:"definitive",debours:{entrevue:0,dossier:0,plaidoirie:0,huissier:0,deplacement:0},honoraires:{forfait:0,tauxHoraire:0,base:0,resultat:0},payment:{method:"virement",provision:!1,provisionAmount:0}});e.useEffect(()=>{(async()=>{U(!0);try{const{data:e,error:n}=await t.from("cases").select("id, title").order("created_at",{ascending:!1});n||z(e||[])}catch(e){}finally{U(!1)}})()},[]),e.useEffect(()=>{i&&w(i)},[i]);const P=(e,n,i)=>{const o=E(i);w(i=>({...i,[e]:{...i[e],[n]:o}}))},I=e=>{const{name:n,value:i,type:o}=e.target,s="provision"===n;w(e=>{let o={...e.payment};return s?o.provision="true"===i:o[n]="provisionAmount"===n?E(i):i,{...e,payment:o}})},{totalDebours:F,totalHonoraires:B,totalHT:M,tva:A,totalTTC:k,resteAPayer:T}=e.useMemo(()=>{const e=Object.values(G.debours).reduce((e,n)=>e+(Number(n)||0),0),n=Object.values(G.honoraires).reduce((e,n)=>e+(Number(n)||0),0),i=e+n,o=.18*i,s=i+o;return{totalDebours:e,totalHonoraires:n,totalHT:i,tva:o,totalTTC:s,resteAPayer:G.payment.provision?s-(Number(G.payment.provisionAmount)||0):s}},[G.debours,G.honoraires,G.payment.provision,G.payment.provisionAmount]),S=(e,i,o,s)=>n.jsxDEV("div",{className:"flex items-center justify-between",children:[n.jsxDEV("label",{className:"text-slate-300 flex items-center print:text-black",children:[n.jsxDEV("input",{type:"checkbox",className:"mr-3 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 print:hidden"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:145,columnNumber:9},void 0),e]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:144,columnNumber:7},void 0),n.jsxDEV("div",{className:"relative w-48",children:[n.jsxDEV("input",{type:"text",name:i,value:C(o),onChange:s,disabled:!f,className:"w-full pl-3 pr-14 py-2 border rounded-lg text-right placeholder-slate-400 focus:outline-none print:bg-white print:text-black print:border-gray-300 "+(f?"bg-slate-700/50 border-slate-600 text-white focus:ring-2 focus:ring-indigo-500":"bg-slate-600/50 border-slate-500 text-slate-300 cursor-not-allowed"),placeholder:"0"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:149,columnNumber:9},void 0),n.jsxDEV("span",{className:"absolute inset-y-0 right-3 flex items-center text-slate-400 text-sm print:text-gray-500",children:"F CFA"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:162,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:148,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:143,columnNumber:5},void 0);return n.jsxDEV(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50 print:hidden",children:n.jsxDEV(l.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-800 border border-slate-700 rounded-xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto print:bg-white print:border-none print:shadow-none print:max-h-full print:overflow-visible",children:[n.jsxDEV("div",{className:"flex items-center justify-between mb-6 print:hidden",children:[n.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:"Honoraires et Conditions d'Intervention"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:181,columnNumber:11},void 0),n.jsxDEV(s,{variant:"ghost",size:"icon",onClick:N,className:"text-slate-400 hover:text-white",children:n.jsxDEV(c,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:185,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:184,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:180,columnNumber:9},void 0),!f&&n.jsxDEV("div",{className:"mb-6 flex items-center gap-3 p-4 bg-yellow-500/20 border border-yellow-500/30 rounded-lg print:hidden",children:[n.jsxDEV(u,{className:"w-5 h-5 text-yellow-400 flex-shrink-0"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:191,columnNumber:13},void 0),n.jsxDEV("div",{children:[n.jsxDEV("p",{className:"text-yellow-300 font-medium",children:"Acc√®s en lecture seule"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:193,columnNumber:15},void 0),n.jsxDEV("p",{className:"text-yellow-200/80 text-sm",children:"Vous pouvez consulter cette facture mais ne pouvez pas modifier les montants. Contactez un administrateur pour effectuer des modifications."},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:194,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:192,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:190,columnNumber:11},void 0),n.jsxDEV("form",{onSubmit:e=>{e.preventDefault();const n={...G,totalTTC:Number.isNaN(k)?0:k};r(n)},className:"space-y-6",children:[n.jsxDEV("div",{className:"border-b border-slate-700 pb-6 mb-6 print:border-gray-300",children:n.jsxDEV("div",{className:"flex items-start justify-between gap-6",children:[g?.logo_url&&n.jsxDEV("div",{className:"flex-shrink-0",children:n.jsxDEV("img",{src:g.logo_url,alt:g.name||"Logo",className:"h-20 w-auto object-contain",onError:e=>e.target.style.display="none"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:209,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:208,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex-grow text-right",children:[n.jsxDEV("h1",{className:"text-2xl font-bold text-white mb-2 print:text-black",children:g?.name||"‚Äî"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:220,columnNumber:17},void 0),g?.slogan&&n.jsxDEV("p",{className:"text-slate-400 text-sm italic mb-3 print:text-gray-600",children:g.slogan},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:224,columnNumber:19},void 0),n.jsxDEV("div",{className:"space-y-1 text-sm text-slate-300 print:text-gray-700",children:[g?.address&&n.jsxDEV("p",{children:g.address},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:230,columnNumber:21},void 0),g?.phone&&n.jsxDEV("p",{children:["T√©l : ",g.phone]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:233,columnNumber:21},void 0),g?.email&&n.jsxDEV("p",{children:["Email : ",g.email]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:236,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:228,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:219,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:205,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:204,columnNumber:11},void 0),n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2 print:text-black",children:[n.jsxDEV(d,{className:"w-4 h-4 inline mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:245,columnNumber:97},void 0),"Client"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:245,columnNumber:15},void 0),n.jsxDEV("input",{type:"text",name:"clientName",value:G.clientName,onChange:e=>w({...G,clientName:e.target.value}),disabled:!f,className:"w-full px-4 py-3 border rounded-lg print:bg-white print:text-black print:border-gray-300 "+(f?"bg-slate-700/50 border-slate-600 text-white":"bg-slate-600/50 border-slate-500 text-slate-300 cursor-not-allowed"),placeholder:"Nom du client"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:246,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:244,columnNumber:13},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2 print:text-black",children:[n.jsxDEV(b,{className:"w-4 h-4 inline mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:261,columnNumber:97},void 0),"Dossier"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:261,columnNumber:15},void 0),n.jsxDEV("select",{name:"caseId",value:G.caseId,onChange:e=>{const n=h.find(n=>n.id===e.target.value);w({...G,caseId:e.target.value,caseTitle:n?.title||""})},disabled:!f||y,className:"w-full px-4 py-3 border rounded-lg print:bg-white print:text-black print:border-gray-300 "+(f?"bg-slate-700/50 border-slate-600 text-white":"bg-slate-600/50 border-slate-500 text-slate-300 cursor-not-allowed"),children:[n.jsxDEV("option",{value:"",disabled:!0,children:y?"Chargement...":0===h.length?"Aucun dossier disponible":"S√©lectionner un dossier"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:280,columnNumber:17},void 0),h.map(e=>n.jsxDEV("option",{value:e.id,children:e.title},e.id,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:284,columnNumber:19},void 0))]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:262,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:260,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:243,columnNumber:11},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2 print:text-black",children:[n.jsxDEV(b,{className:"w-4 h-4 inline mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:295,columnNumber:15},void 0),"Type de facture *"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:294,columnNumber:13},void 0),n.jsxDEV("select",{name:"invoice_type",value:G.invoice_type,onChange:e=>w({...G,invoice_type:e.target.value}),disabled:!f,required:!0,className:"w-full px-4 py-3 border rounded-lg print:bg-white print:text-black print:border-gray-300 "+(f?"bg-slate-700/50 border-slate-600 text-white":"bg-slate-600/50 border-slate-500 text-slate-300 cursor-not-allowed"),children:[n.jsxDEV("option",{value:"proforma",children:"Facture Proforma"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:310,columnNumber:15},void 0),n.jsxDEV("option",{value:"definitive",children:"Facture D√©finitive"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:311,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:298,columnNumber:13},void 0),n.jsxDEV("p",{className:"text-xs text-slate-500 mt-1 print:text-gray-500",children:"proforma"===G.invoice_type?"üìÑ Facture provisoire √† titre indicatif":"‚úÖ Facture d√©finitive √† r√©gler"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:313,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:293,columnNumber:11},void 0),n.jsxDEV("div",{className:"space-y-4 p-4 border border-slate-700 rounded-lg print:border-gray-300",children:[n.jsxDEV("h3",{className:"text-lg font-semibold text-indigo-400 print:text-indigo-600",children:"D√©bours"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:322,columnNumber:13},void 0),S("Frais d'entrevue","entrevue",G.debours.entrevue,e=>P("debours","entrevue",e.target.value)),S("Frais de dossier","dossier",G.debours.dossier,e=>P("debours","dossier",e.target.value)),S("Frais de timbre de plaidoirie","plaidoirie",G.debours.plaidoirie,e=>P("debours","plaidoirie",e.target.value)),S("Frais d'actes d'Huissier","huissier",G.debours.huissier,e=>P("debours","huissier",e.target.value)),S("Frais de d√©placement, de s√©jour et de vacation","deplacement",G.debours.deplacement,e=>P("debours","deplacement",e.target.value))]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:321,columnNumber:11},void 0),n.jsxDEV("div",{className:"space-y-4 p-4 border border-slate-700 rounded-lg print:border-gray-300",children:[n.jsxDEV("h3",{className:"text-lg font-semibold text-purple-400 print:text-purple-600",children:"Honoraires"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:331,columnNumber:13},void 0),S("Forfait","forfait",G.honoraires.forfait,e=>P("honoraires","forfait",e.target.value)),S("Taux horaire","tauxHoraire",G.honoraires.tauxHoraire,e=>P("honoraires","tauxHoraire",e.target.value)),S("Honoraires de base","base",G.honoraires.base,e=>P("honoraires","base",e.target.value)),S("Honoraires de r√©sultat","resultat",G.honoraires.resultat,e=>P("honoraires","resultat",e.target.value))]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:330,columnNumber:11},void 0),n.jsxDEV("div",{className:"space-y-2 p-4 bg-slate-900/50 border border-slate-700 rounded-lg print:bg-gray-100 print:border-gray-300",children:[n.jsxDEV("h3",{className:"text-lg font-semibold text-white mb-4 print:text-black",children:"Total"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:339,columnNumber:13},void 0),n.jsxDEV("div",{className:"flex justify-between text-slate-300 print:text-black",children:[n.jsxDEV("p",{children:"Montant HT d√ª"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:340,columnNumber:83},void 0),n.jsxDEV("p",{children:[C(M)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:340,columnNumber:103},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:340,columnNumber:13},void 0),n.jsxDEV("div",{className:"flex justify-between text-slate-300 print:text-black",children:[n.jsxDEV("p",{children:"Montant TVA (18%)"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:341,columnNumber:83},void 0),n.jsxDEV("p",{children:[C(A)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:341,columnNumber:107},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:341,columnNumber:13},void 0),n.jsxDEV("div",{className:"border-t border-slate-600 my-2 print:border-gray-300"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:342,columnNumber:13},void 0),n.jsxDEV("div",{className:"flex justify-between text-white font-bold text-lg print:text-black",children:[n.jsxDEV("p",{children:"Total TTC"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:343,columnNumber:97},void 0),n.jsxDEV("p",{children:[C(k)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:343,columnNumber:113},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:343,columnNumber:13},void 0),n.jsxDEV("p",{className:"text-sm text-slate-400 italic capitalize print:text-gray-600",children:[V(k)," francs CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:344,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:338,columnNumber:11},void 0),n.jsxDEV("div",{className:"space-y-4 p-4 border border-slate-700 rounded-lg print:border-gray-300",children:[n.jsxDEV("h3",{className:"text-lg font-semibold text-green-400 print:text-green-600",children:"Paiement"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:348,columnNumber:13},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2 print:text-black",children:"Mode de paiement envisag√©"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:350,columnNumber:15},void 0),n.jsxDEV("div",{className:"flex flex-wrap gap-4",children:["Virement","Ch√®que","Carte bancaire","Esp√®ces","Autre"].map(e=>n.jsxDEV("label",{className:"flex items-center print:text-black "+(f?"text-slate-300":"text-slate-400"),children:[n.jsxDEV("input",{type:"radio",name:"method",value:e.toLowerCase().replace(" ",""),checked:G.payment.method===e.toLowerCase().replace(" ",""),onChange:I,disabled:!f,className:"mr-2 h-4 w-4 text-indigo-600 focus:ring-indigo-500 print:hidden disabled:opacity-50"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:354,columnNumber:21},void 0),e]},e,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:353,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:351,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:349,columnNumber:13},void 0),n.jsxDEV("div",{children:[n.jsxDEV("div",{className:"block text-sm font-medium text-slate-300 mb-2 print:text-black",children:"D√©p√¥t de provision / Avance sur frais demand√©(e)"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:369,columnNumber:15},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("label",{className:"flex items-center print:text-black "+(f?"text-slate-300":"text-slate-400"),children:[n.jsxDEV("input",{type:"radio",name:"provision",value:"true",checked:!0===G.payment.provision,onChange:I,disabled:!f,className:"mr-2 h-4 w-4 text-indigo-600 focus:ring-indigo-500 print:hidden disabled:opacity-50"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:372,columnNumber:19},void 0),"Oui"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:371,columnNumber:17},void 0),n.jsxDEV("label",{className:"flex items-center print:text-black "+(f?"text-slate-300":"text-slate-400"),children:[n.jsxDEV("input",{type:"radio",name:"provision",value:"false",checked:!1===G.payment.provision,onChange:I,disabled:!f,className:"mr-2 h-4 w-4 text-indigo-600 focus:ring-indigo-500 print:hidden disabled:opacity-50"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:384,columnNumber:19},void 0),"Non"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:383,columnNumber:17},void 0),G.payment.provision&&n.jsxDEV("div",{className:"relative flex-1",children:[n.jsxDEV("input",{type:"text",name:"provisionAmount",value:C(G.payment.provisionAmount),onChange:I,disabled:!f,className:"w-full pl-3 pr-14 py-2 border rounded-lg text-right print:bg-white print:text-black print:border-gray-300 "+(f?"bg-slate-700/50 border-slate-600 text-white":"bg-slate-600/50 border-slate-500 text-slate-300 cursor-not-allowed"),placeholder:"Montant"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:397,columnNumber:21},void 0),n.jsxDEV("span",{className:"absolute inset-y-0 right-3 flex items-center text-slate-400 text-sm print:text-gray-500",children:"F CFA"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:410,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:396,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:370,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:368,columnNumber:13},void 0),G.payment.provision&&n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-slate-700 print:border-gray-300",children:[n.jsxDEV("div",{className:"flex justify-between text-green-400 font-bold text-lg print:text-green-600",children:[n.jsxDEV("p",{children:"Reste √† payer"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:418,columnNumber:19},void 0),n.jsxDEV("p",{children:[C(T)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:419,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:417,columnNumber:17},void 0),n.jsxDEV("p",{className:"text-sm text-slate-400 italic capitalize print:text-gray-600",children:[V(T)," francs CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:421,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:416,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:347,columnNumber:11},void 0),n.jsxDEV("div",{className:"mt-8 pt-6 border-t border-slate-700 print:border-gray-300",children:n.jsxDEV("div",{className:"flex justify-end",children:n.jsxDEV("div",{className:"text-center",children:[n.jsxDEV("p",{className:"text-sm font-medium text-slate-400 mb-4 print:text-gray-600",children:"Signature"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:430,columnNumber:17},void 0),g?.signature_url?n.jsxDEV("img",{src:g.signature_url,alt:"Signature",className:"h-16 w-auto object-contain mx-auto mb-2",onError:e=>e.target.style.display="none"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:434,columnNumber:19},void 0):n.jsxDEV("div",{className:"h-16 flex items-center justify-center",children:n.jsxDEV("p",{className:"text-xs text-slate-500 italic print:text-gray-500",children:"Signature non fournie"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:442,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:441,columnNumber:19},void 0),n.jsxDEV("div",{className:"border-t border-slate-600 w-48 mx-auto mt-2 print:border-gray-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:447,columnNumber:17},void 0),n.jsxDEV("p",{className:"text-xs text-slate-400 mt-2 print:text-gray-600",children:g?.name||"Cabinet"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:448,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:429,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:428,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:427,columnNumber:11},void 0),n.jsxDEV("div",{className:"flex gap-4 pt-6 print:hidden",children:[f?n.jsxDEV(s,{type:"submit",className:"flex-1 bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700",children:i?"Mettre √† jour":"Cr√©er la Facture"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:457,columnNumber:15},void 0):n.jsxDEV(s,{type:"button",disabled:!0,className:"flex-1 bg-slate-600 text-slate-400 cursor-not-allowed",children:"Modification non autoris√©e"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:461,columnNumber:15},void 0),n.jsxDEV(s,{type:"button",variant:"outline",onClick:N,className:"flex-1 border-slate-600 text-slate-300 hover:bg-slate-700",children:"Annuler"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:469,columnNumber:13},void 0),n.jsxDEV(s,{type:"button",variant:"outline",onClick:x,className:"border-blue-500 text-blue-400 hover:bg-blue-500/20",children:[n.jsxDEV(p,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:473,columnNumber:15},void 0),"Imprimer"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:472,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:455,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:202,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:174,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoiceForm.jsx",lineNumber:168,columnNumber:5},void 0)},y=e=>Number.isNaN(e)||null===e?"0":new Intl.NumberFormat("fr-FR").format(e),U=e=>{if(!e)return"Non d√©finie";return new Date(e).toLocaleDateString("fr-FR")},G=({invoices:e,onClose:i})=>{const o=e.length,t=e.reduce((e,n)=>e+(n.totalTTC||0),0),r=e.filter(e=>"r√©gl√©e totalement"===e.status).length,m=e.filter(e=>"r√©gl√©e partiellement"===e.status).length,a=e.filter(e=>"non r√©gl√©e"===e.status).length,l=e.reduce((e,n)=>n.payment?.provision&&n.payment?.provisionAmount?e+n.payment.provisionAmount:e,0);return n.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 print:bg-white print:relative print:inset-auto print:p-0",children:[n.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-7xl max-h-[90vh] overflow-y-auto print:shadow-none print:rounded-none print:max-w-none print:max-h-none print:overflow-visible",children:[n.jsxDEV("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex justify-between items-center print:hidden",children:[n.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"Aper√ßu d'impression - Facturation"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:50,columnNumber:11},void 0),n.jsxDEV("div",{className:"flex gap-2",children:[n.jsxDEV(s,{onClick:()=>{globalThis.print()},className:"bg-blue-600 hover:bg-blue-700",children:"Imprimer"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:52,columnNumber:13},void 0),n.jsxDEV(s,{variant:"outline",onClick:i,children:[n.jsxDEV(c,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:56,columnNumber:15},void 0),"Fermer"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:55,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:51,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:49,columnNumber:9},void 0),n.jsxDEV("div",{className:"p-8 print:p-[10mm]",children:[n.jsxDEV("div",{className:"text-center mb-4 print:mb-3 border-b-2 border-gray-300 pb-3 print:pb-2 print:break-inside-avoid",children:[n.jsxDEV("h1",{className:"text-xl print:text-lg font-bold text-gray-900 mb-1",children:"CABINET D'AVOCATS"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:66,columnNumber:13},void 0),n.jsxDEV("h2",{className:"text-lg print:text-base font-semibold text-gray-700 mb-2 print:mb-1",children:"RAPPORT DE FACTURATION"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:67,columnNumber:13},void 0),n.jsxDEV("div",{className:"text-sm print:text-xs text-gray-600",children:n.jsxDEV("p",{children:["G√©n√©r√© le ",(new Date).toLocaleDateString("fr-FR")," √† ",(new Date).toLocaleTimeString("fr-FR")]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:69,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:68,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:65,columnNumber:11},void 0),n.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 print:gap-2 mb-4 print:mb-3 text-sm print:text-xs print:break-inside-avoid",children:[n.jsxDEV("div",{className:"bg-gray-50 p-3 print:p-2 rounded-lg border",children:[n.jsxDEV("div",{className:"font-semibold text-gray-700",children:"Total Factures"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:76,columnNumber:15},void 0),n.jsxDEV("div",{className:"text-xl print:text-lg font-bold text-gray-900",children:o},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:77,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:75,columnNumber:13},void 0),n.jsxDEV("div",{className:"bg-gray-50 p-3 print:p-2 rounded-lg border",children:[n.jsxDEV("div",{className:"font-semibold text-gray-700",children:"Montant Total"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:80,columnNumber:15},void 0),n.jsxDEV("div",{className:"text-base print:text-sm font-bold text-gray-900 whitespace-nowrap",children:[y(t)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:81,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:79,columnNumber:13},void 0),n.jsxDEV("div",{className:"bg-gray-50 p-3 print:p-2 rounded-lg border",children:[n.jsxDEV("div",{className:"font-semibold text-gray-700",children:"Montant Encaiss√©"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:84,columnNumber:15},void 0),n.jsxDEV("div",{className:"text-base print:text-sm font-bold text-green-600 whitespace-nowrap",children:[y(l)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:85,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:83,columnNumber:13},void 0),n.jsxDEV("div",{className:"bg-gray-50 p-3 print:p-2 rounded-lg border",children:[n.jsxDEV("div",{className:"font-semibold text-gray-700",children:"Reste √† Encaisser"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:88,columnNumber:15},void 0),n.jsxDEV("div",{className:"text-base print:text-sm font-bold text-red-600 whitespace-nowrap",children:[y(t-l)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:89,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:87,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:74,columnNumber:11},void 0),n.jsxDEV("div",{className:"mb-3 print:mb-2 print:break-inside-avoid",children:[n.jsxDEV("h3",{className:"font-semibold text-gray-800 mb-2 print:mb-1 text-sm print:text-xs",children:"R√©partition par Statut"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:95,columnNumber:13},void 0),n.jsxDEV("div",{className:"grid grid-cols-3 gap-3 print:gap-2 text-sm print:text-xs",children:[n.jsxDEV("div",{className:"flex items-center justify-between p-2 print:p-1 bg-green-50 rounded border",children:[n.jsxDEV("span",{children:"R√©gl√©es totalement"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:98,columnNumber:17},void 0),n.jsxDEV("span",{className:"font-bold text-green-700",children:r},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:99,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:97,columnNumber:15},void 0),n.jsxDEV("div",{className:"flex items-center justify-between p-2 print:p-1 bg-yellow-50 rounded border",children:[n.jsxDEV("span",{children:"R√©gl√©es partiellement"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:102,columnNumber:17},void 0),n.jsxDEV("span",{className:"font-bold text-yellow-700",children:m},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:103,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:101,columnNumber:15},void 0),n.jsxDEV("div",{className:"flex items-center justify-between p-2 print:p-1 bg-red-50 rounded border",children:[n.jsxDEV("span",{children:"Non r√©gl√©es"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:106,columnNumber:17},void 0),n.jsxDEV("span",{className:"font-bold text-red-700",children:a},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:107,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:105,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:96,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:94,columnNumber:11},void 0),n.jsxDEV("div",{className:"overflow-x-auto print:overflow-visible",children:n.jsxDEV("table",{className:"w-full border-collapse border border-gray-300 text-sm print:text-[7pt]",children:[n.jsxDEV("thead",{children:n.jsxDEV("tr",{className:"bg-gray-100",children:[n.jsxDEV("th",{className:"border border-gray-300 px-2 print:px-1 py-2 print:py-1 text-left font-semibold text-gray-800",children:"N¬∞ Facture"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:117,columnNumber:19},void 0),n.jsxDEV("th",{className:"border border-gray-300 px-2 print:px-1 py-2 print:py-1 text-left font-semibold text-gray-800",children:"Client"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:118,columnNumber:19},void 0),n.jsxDEV("th",{className:"border border-gray-300 px-2 print:px-1 py-2 print:py-1 text-left font-semibold text-gray-800",children:"Date"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:119,columnNumber:19},void 0),n.jsxDEV("th",{className:"border border-gray-300 px-2 print:px-1 py-2 print:py-1 text-right font-semibold text-gray-800",children:"Montant TTC"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:120,columnNumber:19},void 0),n.jsxDEV("th",{className:"border border-gray-300 px-2 print:px-1 py-2 print:py-1 text-right font-semibold text-gray-800",children:"Provision"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:121,columnNumber:19},void 0),n.jsxDEV("th",{className:"border border-gray-300 px-2 print:px-1 py-2 print:py-1 text-center font-semibold text-gray-800",children:"Statut"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:122,columnNumber:19},void 0),n.jsxDEV("th",{className:"border border-gray-300 px-2 print:px-1 py-2 print:py-1 text-center font-semibold text-gray-800",children:"Paiement"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:123,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:116,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:115,columnNumber:15},void 0),n.jsxDEV("tbody",{children:e.map((e,i)=>{return n.jsxDEV("tr",{className:(i%2==0?"bg-white":"bg-gray-50")+" print:break-inside-avoid",children:[n.jsxDEV("td",{className:"border border-gray-300 px-2 print:px-1 py-1 font-medium text-gray-900",children:e.invoiceNumber},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:129,columnNumber:21},void 0),n.jsxDEV("td",{className:"border border-gray-300 px-2 print:px-1 py-1 text-gray-700 max-w-[120px] truncate",title:e.clientName,children:e.clientName},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:132,columnNumber:21},void 0),n.jsxDEV("td",{className:"border border-gray-300 px-2 print:px-1 py-1 text-gray-700 whitespace-nowrap",children:U(e.date)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:135,columnNumber:21},void 0),n.jsxDEV("td",{className:"border border-gray-300 px-2 print:px-1 py-1 text-right font-medium text-gray-900 whitespace-nowrap",children:y(e.totalTTC)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:138,columnNumber:21},void 0),n.jsxDEV("td",{className:"border border-gray-300 px-2 print:px-1 py-1 text-right text-gray-700 whitespace-nowrap",children:e.payment?.provision?y(e.payment.provisionAmount||0):"-"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:141,columnNumber:21},void 0),n.jsxDEV("td",{className:"border border-gray-300 px-2 print:px-1 py-1 text-center",children:n.jsxDEV("span",{className:"inline-block px-1 py-0.5 rounded text-[10px] print:text-[7pt] font-medium text-white",style:{backgroundColor:(o=e.status,{"r√©gl√©e totalement":"#22c55e","r√©gl√©e partiellement":"#f59e0b","non r√©gl√©e":"#ef4444"}[o]||"#6b7280")},children:"r√©gl√©e totalement"===e.status?"R√©gl√©e":"r√©gl√©e partiellement"===e.status?"Partielle":"Non r√©gl√©e"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:148,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:147,columnNumber:21},void 0),n.jsxDEV("td",{className:"border border-gray-300 px-2 print:px-1 py-1 text-center text-gray-700 capitalize text-xs print:text-[7pt]",children:e.payment?.method||"-"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:155,columnNumber:21},void 0)]},e.id,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:128,columnNumber:19},void 0);var o})},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:126,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:114,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:113,columnNumber:11},void 0),n.jsxDEV("div",{className:"mt-4 print:mt-3 pt-3 print:pt-2 border-t-2 border-gray-300 print:break-inside-avoid",children:n.jsxDEV("div",{className:"grid grid-cols-2 gap-4 print:gap-3 text-sm print:text-xs",children:[n.jsxDEV("div",{children:[n.jsxDEV("h4",{className:"font-semibold text-gray-800 mb-2 print:mb-1",children:"R√©sum√© Financier"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:168,columnNumber:17},void 0),n.jsxDEV("div",{className:"space-y-1",children:[n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"text-gray-600",children:"Chiffre d'affaires factur√© :"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:171,columnNumber:21},void 0),n.jsxDEV("span",{className:"font-medium whitespace-nowrap",children:[y(t)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:172,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:170,columnNumber:19},void 0),n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"text-gray-600",children:"Montant encaiss√© :"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:175,columnNumber:21},void 0),n.jsxDEV("span",{className:"font-medium text-green-600 whitespace-nowrap",children:[y(l)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:176,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:174,columnNumber:19},void 0),n.jsxDEV("div",{className:"flex justify-between border-t pt-1",children:[n.jsxDEV("span",{className:"text-gray-600 font-semibold",children:"Reste √† encaisser :"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:179,columnNumber:21},void 0),n.jsxDEV("span",{className:"font-bold text-red-600 whitespace-nowrap",children:[y(t-l)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:180,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:178,columnNumber:19},void 0),n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"text-gray-600",children:"Taux d'encaissement :"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:183,columnNumber:21},void 0),n.jsxDEV("span",{className:"font-medium",children:[t>0?Math.round(l/t*100):0,"%"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:184,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:182,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:169,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:167,columnNumber:15},void 0),n.jsxDEV("div",{children:[n.jsxDEV("h4",{className:"font-semibold text-gray-800 mb-2 print:mb-1",children:"Informations"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:191,columnNumber:17},void 0),n.jsxDEV("div",{className:"space-y-0.5 text-gray-600",children:[n.jsxDEV("p",{children:"‚Ä¢ Rapport g√©n√©r√© automatiquement"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:193,columnNumber:19},void 0),n.jsxDEV("p",{children:["‚Ä¢ Donn√©es au ",(new Date).toLocaleDateString("fr-FR")]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:194,columnNumber:19},void 0),n.jsxDEV("p",{children:["‚Ä¢ Total de ",o," facture(s) incluse(s)"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:195,columnNumber:19},void 0),n.jsxDEV("p",{children:"‚Ä¢ Montants exprim√©s en Francs CFA"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:196,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:192,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:190,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:166,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:165,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:63,columnNumber:9},void 0),n.jsxDEV("div",{className:"border-t border-gray-200 p-4 text-center text-sm text-gray-500 print:fixed print:bottom-0 print:left-0 print:right-0 print:bg-white",children:n.jsxDEV("p",{children:["Page 1/1 - Rapport de facturation g√©n√©r√© le ",(new Date).toLocaleDateString("fr-FR")," - Cabinet d'Avocats"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:205,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:204,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:47,columnNumber:7},void 0),n.jsxDEV("style",{children:"\n          @media print {\n            @page {\n              margin: 8mm 10mm;\n              size: A4 portrait;\n            }\n            \n            body {\n              print-color-adjust: exact;\n              -webkit-print-color-adjust: exact;\n              font-size: 8pt;\n              line-height: 1.2;\n            }\n            \n            * {\n              box-sizing: border-box;\n            }\n            \n            /* Emp√™cher les coupures */\n            .print\\:break-inside-avoid {\n              page-break-inside: avoid !important;\n              break-inside: avoid !important;\n            }\n            \n            /* Optimiser espaces */\n            .print\\:p-\\[10mm\\] {\n              padding: 10mm !important;\n            }\n            \n            .print\\:p-2 {\n              padding: 0.3rem !important;\n            }\n            \n            .print\\:p-1 {\n              padding: 0.2rem !important;\n            }\n            \n            .print\\:px-1 {\n              padding-left: 0.2rem !important;\n              padding-right: 0.2rem !important;\n            }\n            \n            .print\\:py-1 {\n              padding-top: 0.2rem !important;\n              padding-bottom: 0.2rem !important;\n            }\n            \n            .print\\:pb-2 {\n              padding-bottom: 0.3rem !important;\n            }\n            \n            .print\\:mb-3 {\n              margin-bottom: 0.5rem !important;\n            }\n            \n            .print\\:mb-2 {\n              margin-bottom: 0.3rem !important;\n            }\n            \n            .print\\:mb-1 {\n              margin-bottom: 0.2rem !important;\n            }\n            \n            .print\\:mt-3 {\n              margin-top: 0.5rem !important;\n            }\n            \n            .print\\:mt-2 {\n              margin-top: 0.3rem !important;\n            }\n            \n            .print\\:pt-2 {\n              padding-top: 0.3rem !important;\n            }\n            \n            .print\\:gap-2 {\n              gap: 0.3rem !important;\n            }\n            \n            .print\\:gap-3 {\n              gap: 0.5rem !important;\n            }\n            \n            .print\\:text-lg {\n              font-size: 10pt !important;\n            }\n            \n            .print\\:text-base {\n              font-size: 8pt !important;\n            }\n            \n            .print\\:text-sm {\n              font-size: 7pt !important;\n            }\n            \n            .print\\:text-xs {\n              font-size: 6.5pt !important;\n            }\n            \n            .print\\:text-\\[7pt\\] {\n              font-size: 7pt !important;\n            }\n            \n            .print\\:overflow-visible {\n              overflow: visible !important;\n            }\n            \n            /* Optimiser tableaux */\n            table {\n              page-break-inside: auto;\n            }\n            \n            tr {\n              page-break-inside: avoid;\n              page-break-after: auto;\n            }\n            \n            thead {\n              display: table-header-group;\n            }\n            \n            /* Conserver couleurs */\n            .bg-gray-50,\n            .bg-gray-100,\n            .bg-green-50,\n            .bg-yellow-50,\n            .bg-red-50 {\n              print-color-adjust: exact;\n              -webkit-print-color-adjust: exact;\n            }\n          }\n        "},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:210,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingPrintPage.jsx",lineNumber:46,columnNumber:5},void 0)},w=e=>Number.isNaN(e)||null===e?"0":new Intl.NumberFormat("fr-FR").format(e),P=e=>{if(!e)return"Non d√©finie";return new Date(e).toLocaleDateString("fr-FR")},I=({invoice:e,onClose:i})=>{const{companyInfo:t}=o();if(!e)return null;const r=Object.values(e.debours||{}).reduce((e,n)=>e+(n||0),0)+Object.values(e.honoraires||{}).reduce((e,n)=>e+(n||0),0),m=.18*r,a=e.totalTTC||r+m;return n.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 print:bg-white print:relative print:inset-auto print:p-0",children:[n.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto print:shadow-none print:rounded-none print:max-w-none print:max-h-none print:overflow-visible",children:[n.jsxDEV("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex justify-between items-center print:hidden",children:[n.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:["Aper√ßu d'impression - ",e.invoiceNumber]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:39,columnNumber:11},void 0),n.jsxDEV("div",{className:"flex gap-2",children:[n.jsxDEV(s,{onClick:()=>{globalThis.print()},className:"bg-blue-600 hover:bg-blue-700",children:"Imprimer"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:41,columnNumber:13},void 0),n.jsxDEV(s,{variant:"outline",onClick:i,children:[n.jsxDEV(c,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:45,columnNumber:15},void 0),"Fermer"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:44,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:40,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:38,columnNumber:9},void 0),n.jsxDEV("div",{className:"p-8 print:p-[12mm] bg-white",children:[n.jsxDEV("div",{className:"mb-4 print:mb-3 print:break-inside-avoid",children:[n.jsxDEV("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 h-16 print:h-14 rounded-t-lg print:rounded-none flex items-center px-6 print:px-4",children:n.jsxDEV("div",{className:"text-white",children:[n.jsxDEV("h1",{className:"text-xl print:text-lg font-bold",children:t?.name||"CABINET D'AVOCATS"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:58,columnNumber:17},void 0),n.jsxDEV("p",{className:"text-sm print:text-xs text-purple-100",children:t?.slogan||"Excellence Juridique & Conseil"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:59,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:57,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:56,columnNumber:13},void 0),n.jsxDEV("div",{className:"bg-gray-50 p-4 print:p-3 rounded-b-lg print:rounded-none border-l-4 border-purple-600",children:n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 print:gap-2 text-sm print:text-xs",children:[n.jsxDEV("div",{children:[n.jsxDEV("p",{className:"font-semibold text-gray-800",children:"Adresse du Cabinet"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:67,columnNumber:19},void 0),n.jsxDEV("p",{className:"text-gray-600",children:t?.address||"123 Avenue des Avocats"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:68,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:66,columnNumber:17},void 0),n.jsxDEV("div",{children:[n.jsxDEV("p",{className:"font-semibold text-gray-800",children:"Contact"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:71,columnNumber:19},void 0),n.jsxDEV("p",{className:"text-gray-600",children:["T√©l: ",t?.phone||"+33 1 23 45 67 89"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:72,columnNumber:19},void 0),n.jsxDEV("p",{className:"text-gray-600",children:["Email: ",t?.email||"contact@cabinet-avocats.fr"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:73,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:70,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:65,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:64,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:55,columnNumber:11},void 0),n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 print:gap-4 mb-4 print:mb-3 print:break-inside-avoid",children:[n.jsxDEV("div",{children:[n.jsxDEV("h3",{className:"text-base print:text-sm font-bold text-gray-800 mb-2 print:mb-1 border-b-2 border-purple-600 pb-1",children:"FACTURE"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:82,columnNumber:15},void 0),n.jsxDEV("div",{className:"space-y-1 text-sm print:text-xs",children:[n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"font-medium text-gray-600",children:"Num√©ro:"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:85,columnNumber:19},void 0),n.jsxDEV("span",{className:"font-bold text-gray-900",children:e.invoiceNumber},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:86,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:84,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"font-medium text-gray-600",children:"Date:"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:89,columnNumber:19},void 0),n.jsxDEV("span",{className:"text-gray-900",children:P(e.date)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:90,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:88,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"font-medium text-gray-600",children:"Dossier:"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:93,columnNumber:19},void 0),n.jsxDEV("span",{className:"text-gray-900 truncate ml-2",title:e.caseTitle||e.caseId||"N/A",children:e.caseTitle||e.caseId||"N/A"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:94,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:92,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:83,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:81,columnNumber:13},void 0),n.jsxDEV("div",{children:[n.jsxDEV("h3",{className:"text-base print:text-sm font-bold text-gray-800 mb-2 print:mb-1 border-b-2 border-purple-600 pb-1",children:"CLIENT"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:102,columnNumber:15},void 0),n.jsxDEV("div",{className:"bg-gray-50 p-3 print:p-2 rounded-lg",children:[n.jsxDEV("p",{className:"font-bold text-gray-900 text-base print:text-sm",children:e.clientName},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:104,columnNumber:17},void 0),n.jsxDEV("p",{className:"text-gray-600 text-xs mt-1",children:"Adresse client"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:105,columnNumber:17},void 0),n.jsxDEV("p",{className:"text-gray-600 text-xs",children:"Code postal, Ville"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:106,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:103,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:101,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:80,columnNumber:11},void 0),n.jsxDEV("div",{className:"mb-4 print:mb-3 print:break-inside-avoid",children:[n.jsxDEV("h3",{className:"text-base print:text-sm font-bold text-gray-800 mb-2 print:mb-1 border-b-2 border-purple-600 pb-1",children:"D√âTAIL DES PRESTATIONS"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:113,columnNumber:13},void 0),n.jsxDEV("div",{className:"overflow-x-auto",children:n.jsxDEV("table",{className:"w-full border-collapse border border-gray-300 text-sm print:text-xs",children:[n.jsxDEV("thead",{className:"bg-gray-100",children:n.jsxDEV("tr",{children:[n.jsxDEV("th",{className:"border border-gray-300 px-3 print:px-2 py-2 print:py-1 text-left font-semibold text-gray-800",children:"Description"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:119,columnNumber:21},void 0),n.jsxDEV("th",{className:"border border-gray-300 px-3 print:px-2 py-2 print:py-1 text-right font-semibold text-gray-800 w-32 print:w-28",children:"Montant (F CFA)"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:120,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:118,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:117,columnNumber:17},void 0),n.jsxDEV("tbody",{children:[e.honoraires&&Object.entries(e.honoraires).map(([e,i])=>i>0&&n.jsxDEV("tr",{className:"print:break-inside-avoid",children:[n.jsxDEV("td",{className:"border border-gray-300 px-3 print:px-2 py-2 print:py-1 text-gray-700",children:["Honoraires - ","forfait"===e?"Forfait":"tauxHoraire"===e?"Taux horaire":"base"===e?"Base":"R√©sultat"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:128,columnNumber:25},void 0),n.jsxDEV("td",{className:"border border-gray-300 px-3 print:px-2 py-2 print:py-1 text-right font-medium text-gray-900 whitespace-nowrap",children:w(i)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:131,columnNumber:25},void 0)]},e,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:127,columnNumber:23},void 0)),e.debours&&Object.entries(e.debours).map(([e,i])=>i>0&&n.jsxDEV("tr",{className:"print:break-inside-avoid",children:[n.jsxDEV("td",{className:"border border-gray-300 px-3 print:px-2 py-2 print:py-1 text-gray-700",children:["D√©bours - ","entrevue"===e?"Entrevue":"dossier"===e?"Dossier":"plaidoirie"===e?"Plaidoirie":"huissier"===e?"Huissier":"D√©placement"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:142,columnNumber:25},void 0),n.jsxDEV("td",{className:"border border-gray-300 px-3 print:px-2 py-2 print:py-1 text-right font-medium text-gray-900 whitespace-nowrap",children:w(i)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:145,columnNumber:25},void 0)]},e,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:141,columnNumber:23},void 0))]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:123,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:116,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:115,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:112,columnNumber:11},void 0),n.jsxDEV("div",{className:"flex justify-end mb-4 print:mb-3 print:break-inside-avoid",children:n.jsxDEV("div",{className:"w-full max-w-sm",children:n.jsxDEV("div",{className:"bg-gray-50 p-4 print:p-3 rounded-lg border-2 border-purple-600",children:n.jsxDEV("div",{className:"space-y-2 print:space-y-1 text-sm print:text-xs",children:[n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"font-medium text-gray-600",children:"SOUS-TOTAL:"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:162,columnNumber:21},void 0),n.jsxDEV("span",{className:"font-semibold text-gray-900 whitespace-nowrap",children:[w(r)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:163,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:161,columnNumber:19},void 0),n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"font-medium text-gray-600",children:"TVA (18%):"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:166,columnNumber:21},void 0),n.jsxDEV("span",{className:"font-semibold text-gray-900 whitespace-nowrap",children:[w(m)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:167,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:165,columnNumber:19},void 0),n.jsxDEV("div",{className:"border-t border-gray-300 pt-2 print:pt-1",children:n.jsxDEV("div",{className:"flex justify-between items-center",children:[n.jsxDEV("span",{className:"font-bold text-base print:text-sm text-gray-800",children:"TOTAL D√õ:"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:171,columnNumber:23},void 0),n.jsxDEV("span",{className:"font-bold text-lg print:text-base text-purple-600 whitespace-nowrap",children:[w(a)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:172,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:170,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:169,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:160,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:159,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:158,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:157,columnNumber:11},void 0),e.payment&&n.jsxDEV("div",{className:"mb-4 print:mb-3 print:break-inside-avoid",children:[n.jsxDEV("h3",{className:"text-base print:text-sm font-bold text-gray-800 mb-2 print:mb-1 border-b-2 border-purple-600 pb-1",children:"INFORMATIONS DE PAIEMENT"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:183,columnNumber:15},void 0),n.jsxDEV("div",{className:"bg-blue-50 p-3 print:p-2 rounded-lg",children:[n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 print:gap-2 text-sm print:text-xs",children:[n.jsxDEV("div",{children:[n.jsxDEV("span",{className:"font-medium text-gray-600",children:"Mode de paiement:"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:187,columnNumber:21},void 0),n.jsxDEV("span",{className:"ml-2 text-gray-900 capitalize",children:e.payment.method||"Non d√©fini"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:188,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:186,columnNumber:19},void 0),e.payment.provision&&n.jsxDEV("div",{children:[n.jsxDEV("span",{className:"font-medium text-gray-600",children:"Provision vers√©e:"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:192,columnNumber:23},void 0),n.jsxDEV("span",{className:"ml-2 text-gray-900 whitespace-nowrap",children:[w(e.payment.provisionAmount||0)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:193,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:191,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:185,columnNumber:17},void 0),e.payment.provisionAmount<a&&n.jsxDEV("div",{className:"mt-2 print:mt-1 p-2 print:p-1 bg-yellow-100 border border-yellow-300 rounded",children:n.jsxDEV("p",{className:"text-yellow-800 font-medium text-sm print:text-xs",children:["Solde restant d√ª: ",w(a-(e.payment.provisionAmount||0))," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:199,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:198,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:184,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:182,columnNumber:13},void 0),n.jsxDEV("div",{className:"border-t-2 border-gray-300 pt-4 print:pt-3 print:break-before-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 print:gap-3 text-sm print:text-xs print:break-inside-avoid",children:[n.jsxDEV("div",{children:[n.jsxDEV("h4",{className:"font-bold text-gray-800 mb-2 print:mb-1",children:"CONDITIONS DE PAIEMENT"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:212,columnNumber:17},void 0),n.jsxDEV("div",{className:"text-gray-600 space-y-0.5",children:[n.jsxDEV("p",{children:"‚Ä¢ Paiement sous 30 jours √† r√©ception"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:214,columnNumber:19},void 0),n.jsxDEV("p",{children:"‚Ä¢ Virements accept√©s sur compte bancaire"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:215,columnNumber:19},void 0),n.jsxDEV("p",{children:"‚Ä¢ Retard de paiement: p√©nalit√©s de 3% par mois"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:216,columnNumber:19},void 0),n.jsxDEV("p",{children:"‚Ä¢ TVA non applicable - Article 293 B du CGI"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:217,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:213,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:211,columnNumber:15},void 0),n.jsxDEV("div",{children:[n.jsxDEV("h4",{className:"font-bold text-gray-800 mb-2 print:mb-1",children:"COORDONN√âES BANCAIRES"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:221,columnNumber:17},void 0),n.jsxDEV("div",{className:"text-gray-600 space-y-0.5",children:[n.jsxDEV("p",{children:[n.jsxDEV("strong",{children:"Banque:"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:223,columnNumber:22},void 0)," Cr√©dit Agricole Paris"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:223,columnNumber:19},void 0),n.jsxDEV("p",{children:[n.jsxDEV("strong",{children:"IBAN:"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:224,columnNumber:22},void 0)," FR76 1234 5678 9012 3456 789"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:224,columnNumber:19},void 0),n.jsxDEV("p",{children:[n.jsxDEV("strong",{children:"BIC:"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:225,columnNumber:22},void 0)," AGRIFRPP"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:225,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:222,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:220,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:210,columnNumber:13},void 0),n.jsxDEV("div",{className:"mt-4 print:mt-3 text-center p-3 print:p-2 bg-purple-50 rounded-lg border-l-4 border-purple-600 print:break-inside-avoid",children:[n.jsxDEV("p",{className:"text-gray-700 text-sm print:text-xs italic",children:'"Nous vous remercions de votre confiance et restons √† votre disposition pour tout renseignement compl√©mentaire."'},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:231,columnNumber:15},void 0),n.jsxDEV("p",{className:"text-purple-600 font-semibold text-sm print:text-xs mt-1",children:[t?.name||"Cabinet d'Avocats"," - ",t?.slogan||"Excellence Juridique"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:234,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:230,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:209,columnNumber:11},void 0),n.jsxDEV("div",{className:"flex justify-end mt-6 print:mt-4 print:break-inside-avoid",children:n.jsxDEV("div",{className:"text-center",children:[n.jsxDEV("p",{className:"text-gray-600 text-sm print:text-xs mb-6 print:mb-4",children:["Fait √† Paris, le ",P((new Date).toISOString())]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:243,columnNumber:15},void 0),n.jsxDEV("div",{className:"border-t border-gray-400 w-40 print:w-32 mx-auto pt-2 print:pt-1",children:n.jsxDEV("p",{className:"text-gray-700 text-sm print:text-xs font-medium",children:"Signature et cachet"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:245,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:244,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:242,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:241,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:52,columnNumber:9},void 0),n.jsxDEV("div",{className:"border-t border-gray-200 p-4 text-center text-sm text-gray-500 print:fixed print:bottom-0 print:left-0 print:right-0 print:bg-white",children:n.jsxDEV("p",{children:[t?.name||"Cabinet d'Avocats"," - ",t?.address||"123 Avenue des Avocats, 75001 Paris"," - T√©l: ",t?.phone||"+33 1 23 45 67 89"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:253,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:252,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:35,columnNumber:7},void 0),n.jsxDEV("style",{children:"\n          @media print {\n            @page {\n              margin: 10mm 12mm;\n              size: A4 portrait;\n            }\n            \n            body {\n              print-color-adjust: exact;\n              -webkit-print-color-adjust: exact;\n              font-size: 9pt;\n              line-height: 1.3;\n            }\n            \n            * {\n              box-sizing: border-box;\n            }\n            \n            /* Classes utilitaires print */\n            .print\\:hidden {\n              display: none !important;\n            }\n            \n            .print\\:bg-white {\n              background: white !important;\n            }\n            \n            .print\\:relative {\n              position: relative !important;\n            }\n            \n            .print\\:inset-auto {\n              inset: auto !important;\n            }\n            \n            .print\\:p-0 {\n              padding: 0 !important;\n            }\n            \n            .print\\:p-\\[12mm\\] {\n              padding: 12mm !important;\n            }\n            \n            .print\\:p-3 {\n              padding: 0.5rem !important;\n            }\n            \n            .print\\:p-2 {\n              padding: 0.35rem !important;\n            }\n            \n            .print\\:p-1 {\n              padding: 0.2rem !important;\n            }\n            \n            .print\\:px-4 {\n              padding-left: 0.75rem !important;\n              padding-right: 0.75rem !important;\n            }\n            \n            .print\\:px-2 {\n              padding-left: 0.35rem !important;\n              padding-right: 0.35rem !important;\n            }\n            \n            .print\\:py-1 {\n              padding-top: 0.2rem !important;\n              padding-bottom: 0.2rem !important;\n            }\n            \n            .print\\:pt-3 {\n              padding-top: 0.5rem !important;\n            }\n            \n            .print\\:pt-1 {\n              padding-top: 0.2rem !important;\n            }\n            \n            .print\\:mb-3 {\n              margin-bottom: 0.5rem !important;\n            }\n            \n            .print\\:mb-1 {\n              margin-bottom: 0.2rem !important;\n            }\n            \n            .print\\:mt-3 {\n              margin-top: 0.5rem !important;\n            }\n            \n            .print\\:mt-4 {\n              margin-top: 0.75rem !important;\n            }\n            \n            .print\\:mt-1 {\n              margin-top: 0.2rem !important;\n            }\n            \n            .print\\:gap-4 {\n              gap: 0.75rem !important;\n            }\n            \n            .print\\:gap-3 {\n              gap: 0.5rem !important;\n            }\n            \n            .print\\:gap-2 {\n              gap: 0.35rem !important;\n            }\n            \n            .print\\:space-y-1 > * + * {\n              margin-top: 0.2rem !important;\n            }\n            \n            .print\\:h-14 {\n              height: 3.5rem !important;\n            }\n            \n            .print\\:w-28 {\n              width: 7rem !important;\n            }\n            \n            .print\\:w-32 {\n              width: 8rem !important;\n            }\n            \n            .print\\:text-lg {\n              font-size: 10pt !important;\n            }\n            \n            .print\\:text-sm {\n              font-size: 8pt !important;\n            }\n            \n            .print\\:text-xs {\n              font-size: 7pt !important;\n            }\n            \n            .print\\:text-base {\n              font-size: 9pt !important;\n            }\n            \n            .print\\:shadow-none {\n              box-shadow: none !important;\n            }\n            \n            .print\\:rounded-none {\n              border-radius: 0 !important;\n            }\n            \n            .print\\:max-w-none {\n              max-width: none !important;\n            }\n            \n            .print\\:max-h-none {\n              max-height: none !important;\n            }\n            \n            .print\\:overflow-visible {\n              overflow: visible !important;\n            }\n            \n            .print\\:fixed {\n              position: fixed !important;\n            }\n            \n            .print\\:bottom-0 {\n              bottom: 0 !important;\n            }\n            \n            .print\\:left-0 {\n              left: 0 !important;\n            }\n            \n            .print\\:right-0 {\n              right: 0 !important;\n            }\n            \n            /* Emp√™cher les coupures de page */\n            .print\\:break-inside-avoid {\n              page-break-inside: avoid !important;\n              break-inside: avoid !important;\n            }\n            \n            .print\\:break-before-auto {\n              page-break-before: auto !important;\n              break-before: auto !important;\n            }\n            \n            /* Optimisations sp√©cifiques */\n            h1, h2, h3, h4, h5, h6 {\n              page-break-after: avoid;\n              break-after: avoid;\n            }\n            \n            table {\n              page-break-inside: auto;\n            }\n            \n            tr {\n              page-break-inside: avoid;\n              page-break-after: auto;\n            }\n            \n            thead {\n              display: table-header-group;\n            }\n            \n            tfoot {\n              display: table-footer-group;\n            }\n            \n            /* Assurer la visibilit√© des couleurs */\n            .bg-gradient-to-r,\n            .bg-gray-50,\n            .bg-blue-50,\n            .bg-purple-50,\n            .bg-yellow-100 {\n              print-color-adjust: exact;\n              -webkit-print-color-adjust: exact;\n            }\n            \n            /* Optimiser les marges pour √©viter d√©bordements */\n            .overflow-x-auto {\n              overflow: visible !important;\n            }\n          }\n        "},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:260,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/InvoicePrintView.jsx",lineNumber:34,columnNumber:5},void 0)},F=e=>Number.isNaN(e)||null===e?"0":new Intl.NumberFormat("fr-FR").format(e),B=e=>{const n=e.totalTTC||0,i=e.payment?.provisionAmount||0;return!e.payment?.provision||i<=0?"non r√©gl√©e":i>=n?"r√©gl√©e totalement":"r√©gl√©e partiellement"},M=({currentUser:i})=>{const[o,c]=e.useState([]),[d,p]=e.useState(!1),[V,C]=e.useState(null),[E,y]=e.useState(""),[U,w]=e.useState("all"),[P,M]=e.useState(!1),[A,k]=e.useState(!1),[T,S]=e.useState(null),R=m(i),_=i?.permissions||{},O=R||a(_,"billing","create");R||a(_,"billing","edit"),R||a(_,"billing","delete");const L=R||a(_,"billing")||"Avocat"===i?.function||"avocat"===i?.role;e.useEffect(()=>{q()},[]),e.useEffect(()=>{const e=e=>{A&&!e.target.closest(".relative")&&k(!1)};if(A)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[A]);const q=async()=>{try{const{data:e,error:n}=await t.from("invoices").select("*").order("invoice_date",{ascending:!1});if(n)return void r({variant:"destructive",title:"‚ùå Erreur",description:"Impossible de charger les factures."});const i=(e||[]).map(e=>({id:e.id,invoiceNumber:e.invoice_number,clientName:e.client_name,caseId:e.case_id,caseTitle:e.case_title,totalTTC:e.total_ttc,date:e.invoice_date,invoice_type:e.invoice_type||"definitive",debours:e.debours||{},honoraires:e.honoraires||{},payment:e.payment||{},status:e.status||B(e)}));c(i)}catch(e){r({variant:"destructive",title:"‚ùå Erreur",description:"Une erreur s'est produite lors du chargement des factures."})}},H=e.useMemo(()=>{const e=o.reduce((e,n)=>e+(n.totalTTC||0),0),n=o.filter(e=>"non r√©gl√©e"===e.status||"r√©gl√©e partiellement"===e.status).reduce((e,n)=>e+(n.totalTTC||0),0),i=new Date;return{total:e,pendingAmount:n,overdueAmount:o.filter(e=>{if("r√©gl√©e totalement"===e.status)return!1;const n=new Date(e.date);return Math.floor((i-n)/864e5)>30}).reduce((e,n)=>e+(n.totalTTC||0),0),thisMonthAmount:o.filter(e=>{const n=new Date(e.date);return n.getMonth()===i.getMonth()&&n.getFullYear()===i.getFullYear()}).reduce((e,n)=>e+(n.totalTTC||0),0),totalChange:18,pendingChange:5,overdueChange:-12,thisMonthChange:22}},[o]),$=e.useMemo(()=>o.filter(e=>e.clientName?.toLowerCase().includes(E.toLowerCase())||e.invoiceNumber?.toLowerCase().includes(E.toLowerCase())).filter(e=>"all"===U||e.status===U),[o,E,U]);return n.jsxDEV("div",{className:"space-y-6",children:[n.jsxDEV("div",{className:"flex items-center justify-between print:hidden",children:[n.jsxDEV("div",{children:[n.jsxDEV("h1",{className:"text-3xl font-bold text-white mb-2",children:"Facturation & Comptabilit√©"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:340,columnNumber:11},void 0),n.jsxDEV("p",{className:"text-slate-400",children:"G√©rez les factures et les rapports financiers"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:341,columnNumber:11},void 0),!O&&L&&n.jsxDEV("div",{className:"flex items-center gap-2 mt-2 p-2 bg-yellow-500/20 border border-yellow-500/30 rounded-lg",children:[n.jsxDEV(u,{className:"w-4 h-4 text-yellow-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:344,columnNumber:15},void 0),n.jsxDEV("span",{className:"text-sm text-yellow-300",children:"Acc√®s en lecture seule - Contactez un administrateur pour cr√©er des factures"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:345,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:343,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:339,columnNumber:9},void 0),O&&n.jsxDEV(s,{onClick:()=>{C(null),p(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[n.jsxDEV(N,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:360,columnNumber:13},void 0),"Nouvelle Facture"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:353,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:338,columnNumber:7},void 0),n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 print:hidden",children:[n.jsxDEV(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[n.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[n.jsxDEV("p",{className:"text-sm text-slate-400",children:"Revenu Total"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:375,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsxDEV(x,{className:"w-5 h-5 text-white"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:377,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:376,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:374,columnNumber:11},void 0),n.jsxDEV("p",{className:"text-3xl font-bold text-white mb-2",children:[F(H.total)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:380,columnNumber:11},void 0),n.jsxDEV("div",{className:"flex items-center gap-1 text-sm",children:[n.jsxDEV(v,{className:"w-4 h-4 text-green-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:382,columnNumber:13},void 0),n.jsxDEV("span",{className:"text-green-400 font-medium",children:["+",H.totalChange,"%"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:383,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:381,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:369,columnNumber:9},void 0),n.jsxDEV(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[n.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[n.jsxDEV("p",{className:"text-sm text-slate-400",children:"Factures en attente"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:395,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-2 bg-yellow-500 rounded-lg",children:n.jsxDEV(g,{className:"w-5 h-5 text-white"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:397,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:396,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:394,columnNumber:11},void 0),n.jsxDEV("p",{className:"text-3xl font-bold text-white mb-2",children:[F(H.pendingAmount)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:400,columnNumber:11},void 0),n.jsxDEV("div",{className:"flex items-center gap-1 text-sm",children:[n.jsxDEV(v,{className:"w-4 h-4 text-green-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:402,columnNumber:13},void 0),n.jsxDEV("span",{className:"text-green-400 font-medium",children:["+",H.pendingChange,"%"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:403,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:401,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:388,columnNumber:9},void 0),n.jsxDEV(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[n.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[n.jsxDEV("p",{className:"text-sm text-slate-400",children:"En retard"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:415,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-2 bg-red-500 rounded-lg",children:n.jsxDEV(u,{className:"w-5 h-5 text-white"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:417,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:416,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:414,columnNumber:11},void 0),n.jsxDEV("p",{className:"text-3xl font-bold text-white mb-2",children:[F(H.overdueAmount)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:420,columnNumber:11},void 0),n.jsxDEV("div",{className:"flex items-center gap-1 text-sm",children:[n.jsxDEV(j,{className:"w-4 h-4 text-red-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:422,columnNumber:13},void 0),n.jsxDEV("span",{className:"text-red-400 font-medium",children:[H.overdueChange,"%"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:423,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:421,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:408,columnNumber:9},void 0),n.jsxDEV(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[n.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[n.jsxDEV("p",{className:"text-sm text-slate-400",children:"Ce mois-ci"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:435,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-2 bg-blue-600 rounded-lg",children:n.jsxDEV(D,{className:"w-5 h-5 text-white"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:437,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:436,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:434,columnNumber:11},void 0),n.jsxDEV("p",{className:"text-3xl font-bold text-white mb-2",children:[F(H.thisMonthAmount)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:440,columnNumber:11},void 0),n.jsxDEV("div",{className:"flex items-center gap-1 text-sm",children:[n.jsxDEV(v,{className:"w-4 h-4 text-green-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:442,columnNumber:13},void 0),n.jsxDEV("span",{className:"text-green-400 font-medium",children:["+",H.thisMonthChange,"%"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:443,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:441,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:428,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:367,columnNumber:7},void 0),n.jsxDEV("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl print:hidden",children:[n.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b border-slate-700/50",children:[n.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Factures R√©centes"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:451,columnNumber:11},void 0),n.jsxDEV(s,{variant:"outline",onClick:()=>{r({title:"Export en cours",description:"Les factures sont en cours d'exportation..."})},className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[n.jsxDEV(f,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:462,columnNumber:13},void 0),"Exporter"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:452,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:450,columnNumber:9},void 0),n.jsxDEV("div",{className:"overflow-x-auto",children:n.jsxDEV("table",{className:"w-full",children:[n.jsxDEV("thead",{className:"bg-slate-900/50 border-b border-slate-700/30",children:n.jsxDEV("tr",{children:[n.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"ID Facture"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:472,columnNumber:17},void 0),n.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Client"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:475,columnNumber:17},void 0),n.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Dossier"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:478,columnNumber:17},void 0),n.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Montant"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:481,columnNumber:17},void 0),n.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Date"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:484,columnNumber:17},void 0),n.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"√âch√©ance"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:487,columnNumber:17},void 0),n.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Statut"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:490,columnNumber:17},void 0),n.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:493,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:471,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:470,columnNumber:13},void 0),n.jsxDEV("tbody",{className:"divide-y divide-slate-700/30",children:$.length>0?$.slice(0,10).map((e,i)=>{const o=new Date(e.date);o.setDate(o.getDate()+30);const t=o.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return n.jsxDEV(l.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*i},className:"hover:bg-slate-700/30",children:[n.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:e.invoiceNumber},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:514,columnNumber:23},void 0),n.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-300",children:e.clientName},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:517,columnNumber:23},void 0),n.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-300",children:e.caseTitle||e.caseId||"‚Äî"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:520,columnNumber:23},void 0),n.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:[F(e.totalTTC)," F CFA"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:523,columnNumber:23},void 0),n.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-300",children:new Date(e.date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:526,columnNumber:23},void 0),n.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-300",children:t},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:529,columnNumber:23},void 0),n.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxDEV("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+("r√©gl√©e totalement"===e.status?"bg-green-500/20 text-green-300 border border-green-500/30":"r√©gl√©e partiellement"===e.status||"non r√©gl√©e"===e.status?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"),children:"r√©gl√©e totalement"===e.status?"Pay√©e":"non r√©gl√©e"===e.status?"En attente":"En retard"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:533,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:532,columnNumber:23},void 0),n.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-400",children:n.jsxDEV(s,{variant:"ghost",size:"icon",onClick:()=>(e=>{S(e),r({title:"üìÑ Ouverture de l'aper√ßu",description:`Pr√©paration de la facture ${e.invoiceNumber} pour l'impression.`})})(e),className:"hover:bg-slate-600",children:n.jsxDEV(b,{className:"w-4 h-4 text-slate-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:550,columnNumber:27},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:544,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:543,columnNumber:23},void 0)]},e.id,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:507,columnNumber:21},void 0)}):n.jsxDEV("tr",{children:n.jsxDEV("td",{colSpan:"8",className:"px-6 py-12 text-center",children:[n.jsxDEV(h,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:559,columnNumber:21},void 0),n.jsxDEV("p",{className:"text-slate-400",children:"Aucune facture trouv√©e"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:560,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:558,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:557,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:498,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:469,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:468,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:449,columnNumber:7},void 0),d&&n.jsxDEV(z,{invoice:V,onSubmit:V?async e=>{try{const n=B(e),i={client_name:e.clientName,case_id:e.caseId,case_title:e.caseTitle,total_ttc:Number(e.totalTTC)||0,invoice_date:e.date,invoice_type:e.invoice_type||"definitive",debours:e.debours||{},honoraires:e.honoraires||{},payment:e.payment||{},status:n},{data:o,error:s}=await t.from("invoices").update(i).eq("id",e.id).select();if(s)return void r({variant:"destructive",title:"‚ùå Erreur",description:"Impossible de modifier la facture."});await q(),C(null),p(!1),r({title:"‚úÖ Facture modifi√©e",description:`La facture ${e.invoiceNumber} a √©t√© mise √† jour.`})}catch(n){r({variant:"destructive",title:"‚ùå Erreur",description:"Une erreur s'est produite lors de la modification de la facture."})}}:async e=>{try{const n=`FACT-${(new Date).getFullYear()}-${String(o.length+1).padStart(3,"0")}`,s=B(e),m={invoice_number:n,client_name:e.clientName,case_id:e.caseId,case_title:e.caseTitle,total_ttc:Number(e.totalTTC)||0,invoice_date:(new Date).toISOString().split("T")[0],invoice_type:e.invoice_type||"definitive",debours:e.debours||{},honoraires:e.honoraires||{},payment:e.payment||{},status:s,created_by:i?.id},{data:a,error:l}=await t.from("invoices").insert([m]).select();if(l)return void r({variant:"destructive",title:"‚ùå Erreur",description:"Impossible de cr√©er la facture."});await q(),p(!1),r({title:"‚úÖ Facture cr√©√©e",description:`La facture ${n} a √©t√© cr√©√©e avec succ√®s.`})}catch(n){r({variant:"destructive",title:"‚ùå Erreur",description:"Une erreur s'est produite lors de la cr√©ation de la facture."})}},onCancel:()=>{p(!1),C(null)},onPrint:()=>{r({title:"Impression en cours...",description:"Pr√©paration de la facture pour l'impression."}),globalThis.print()},currentUser:i},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:570,columnNumber:9},void 0),P&&n.jsxDEV(G,{invoices:$,onClose:()=>M(!1)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:583,columnNumber:9},void 0),T&&n.jsxDEV(I,{invoice:T,onClose:()=>S(null)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:590,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/BillingManager.jsx",lineNumber:336,columnNumber:5},void 0)};M.propTypes={currentUser:i.shape({id:i.string,name:i.string,email:i.string,role:i.string,function:i.string,permissions:i.object})};export{M as default};
