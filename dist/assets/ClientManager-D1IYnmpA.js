import{r as e,f as n}from"./vendor-react-CWhE6-Gf.js";import{B as s,s as o,t as i}from"./index-BzUzpWLW.js";import{m as t,X as m,u as r,a0 as a,a1 as l,a2 as c,a3 as u,a4 as d,J as b,a5 as N,q as p,_ as x}from"./vendor-ui-BBpB3Q8s.js";import{g as v}from"./clientUtils-CA0eKa9v.js";import{C as g}from"./ConfirmationModal-By6tTfcV.js";import"./sentry-CxmcrLP_.js";import"./vendor-supabase-CR9Q8AJ3.js";import"./vendor-charts-BY8kkf7J.js";const C=({client:o,onSubmit:i,onCancel:d})=>{const[b,N]=e.useState({type:"individual",firstName:"",lastName:"",company:"",email:"",phone:"",address:"",city:"",postalCode:"",country:"France",notes:""});e.useEffect(()=>{o&&N({type:o.type||"individual",firstName:o.firstName||o.first_name||"",lastName:o.lastName||o.last_name||"",company:o.company||"",email:o.email||"",phone:o.phone||"",address:o.address||"",city:o.city||"",postalCode:o.postalCode||o.postal_code||"",country:o.country||"France",notes:o.notes||""})},[o]);const p=e=>{const{name:n,value:s}=e.target;N(e=>({...e,[n]:s}))};return n.jsxDEV(t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:n.jsxDEV(t.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-800 border border-slate-700 rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[n.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:o?"Modifier le Client":"Nouveau Client"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:66,columnNumber:11},void 0),n.jsxDEV(s,{variant:"ghost",size:"icon",onClick:d,className:"text-slate-400 hover:text-white",children:n.jsxDEV(m,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:75,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:69,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:65,columnNumber:9},void 0),n.jsxDEV("form",{onSubmit:e=>{e.preventDefault(),i(b)},className:"space-y-6",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Type de client"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:81,columnNumber:13},void 0),n.jsxDEV("div",{className:"flex gap-4",children:[n.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsxDEV("input",{type:"radio",name:"type",value:"individual",checked:"individual"===b.type,onChange:p,className:"text-purple-500 focus:ring-purple-500"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:86,columnNumber:17},void 0),n.jsxDEV(r,{className:"w-4 h-4 text-slate-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:94,columnNumber:17},void 0),n.jsxDEV("span",{className:"text-slate-300",children:"Particulier"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:95,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:85,columnNumber:15},void 0),n.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsxDEV("input",{type:"radio",name:"type",value:"company",checked:"company"===b.type,onChange:p,className:"text-purple-500 focus:ring-purple-500"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:98,columnNumber:17},void 0),n.jsxDEV(a,{className:"w-4 h-4 text-slate-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:106,columnNumber:17},void 0),n.jsxDEV("span",{className:"text-slate-300",children:"Entreprise"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:107,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:97,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:84,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:80,columnNumber:11},void 0),"company"===b.type?n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[n.jsxDEV(a,{className:"w-4 h-4 inline mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:117,columnNumber:17},void 0),"Nom de l'entreprise *"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:116,columnNumber:15},void 0),n.jsxDEV("input",{type:"text",name:"company",value:b.company,onChange:p,required:!0,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Ex: SARL Martin & AssociÃ©s"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:120,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:115,columnNumber:13},void 0):n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Nom *"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:134,columnNumber:17},void 0),n.jsxDEV("input",{type:"text",name:"lastName",value:b.lastName,onChange:p,required:!0,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Dupont"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:137,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:133,columnNumber:15},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"PrÃ©noms *"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:149,columnNumber:17},void 0),n.jsxDEV("input",{type:"text",name:"firstName",value:b.firstName,onChange:p,required:!0,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Jean"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:152,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:148,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:132,columnNumber:13},void 0),n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[n.jsxDEV(l,{className:"w-4 h-4 inline mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:168,columnNumber:17},void 0),"Email *"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:167,columnNumber:15},void 0),n.jsxDEV("input",{type:"email",name:"email",value:b.email,onChange:p,required:!0,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"jean.dupont@email.com"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:171,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:166,columnNumber:13},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[n.jsxDEV(c,{className:"w-4 h-4 inline mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:184,columnNumber:17},void 0),"TÃ©lÃ©phone *"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:183,columnNumber:15},void 0),n.jsxDEV("input",{type:"tel",name:"phone",value:b.phone,onChange:p,required:!0,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"01 23 45 67 89"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:187,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:182,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:165,columnNumber:11},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[n.jsxDEV(u,{className:"w-4 h-4 inline mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:201,columnNumber:15},void 0),"Adresse"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:200,columnNumber:13},void 0),n.jsxDEV("input",{type:"text",name:"address",value:b.address,onChange:p,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"123 Rue de la RÃ©publique"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:204,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:199,columnNumber:11},void 0),n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Ville"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:216,columnNumber:15},void 0),n.jsxDEV("input",{type:"text",name:"city",value:b.city,onChange:p,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Paris"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:219,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:215,columnNumber:13},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Code Postal"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:230,columnNumber:15},void 0),n.jsxDEV("input",{type:"text",name:"postalCode",value:b.postalCode,onChange:p,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"75001"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:233,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:229,columnNumber:13},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Pays"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:244,columnNumber:15},void 0),n.jsxDEV("input",{type:"text",name:"country",value:b.country,onChange:p,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"France"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:247,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:243,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:214,columnNumber:11},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Notes"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:259,columnNumber:13},void 0),n.jsxDEV("textarea",{name:"notes",value:b.notes,onChange:p,rows:4,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Notes additionnelles sur le client..."},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:262,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:258,columnNumber:11},void 0),n.jsxDEV("div",{className:"flex gap-4 pt-6",children:[n.jsxDEV(s,{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700",children:o?"Mettre Ã  jour":"Ajouter le client"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:273,columnNumber:13},void 0),n.jsxDEV(s,{type:"button",variant:"outline",onClick:d,className:"flex-1 border-slate-600 text-slate-300 hover:bg-slate-700",children:"Annuler"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:279,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:272,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:79,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:59,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientForm.jsx",lineNumber:53,columnNumber:5},void 0)},j=({client:e,index:o,onEdit:i,onDelete:m})=>{return n.jsxDEV(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*o},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-lg p-6 hover:border-slate-600/50 transition-all duration-200",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 lg:gap-6 items-start",children:[n.jsxDEV("div",{className:"lg:col-span-1",children:[n.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxDEV("div",{className:"text-blue-400",children:(p=e.type,"company"===p?n.jsxDEV(a,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:18,columnNumber:33},void 0):n.jsxDEV(r,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:18,columnNumber:68},void 0))},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:37,columnNumber:13},void 0),n.jsxDEV("h4",{className:"text-lg font-semibold text-white line-clamp-1",children:v(e)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:40,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:36,columnNumber:11},void 0),n.jsxDEV("div",{className:"flex items-center gap-2",children:[n.jsxDEV("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-slate-700/50 text-slate-300 border border-slate-600/30",children:(e=>"company"===e?"Entreprise":"Particulier")(e.type)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:45,columnNumber:13},void 0),e.clientCode&&n.jsxDEV("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-600/20 text-indigo-300 border border-indigo-500/30",children:["NÂ° ",e.clientCode]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:49,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:44,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:35,columnNumber:9},void 0),n.jsxDEV("div",{className:"lg:col-span-1",children:e.email&&n.jsxDEV("div",{className:"flex items-center gap-2",children:[n.jsxDEV(l,{className:"w-4 h-4 text-slate-400 flex-shrink-0"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:60,columnNumber:15},void 0),n.jsxDEV("span",{className:"text-slate-300 text-sm truncate",children:e.email},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:61,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:59,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:57,columnNumber:9},void 0),n.jsxDEV("div",{className:"lg:col-span-1",children:e.phone&&n.jsxDEV("div",{className:"flex items-center gap-2",children:[n.jsxDEV(c,{className:"w-4 h-4 text-slate-400 flex-shrink-0"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:72,columnNumber:15},void 0),n.jsxDEV("span",{className:"text-slate-300 text-sm",children:e.phone},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:73,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:71,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:69,columnNumber:9},void 0),n.jsxDEV("div",{className:"lg:col-span-1",children:e.city&&n.jsxDEV("div",{className:"flex items-center gap-2",children:[n.jsxDEV(u,{className:"w-4 h-4 text-slate-400 flex-shrink-0"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:84,columnNumber:15},void 0),n.jsxDEV("span",{className:"text-slate-300 text-sm truncate",children:[e.postalCode&&`${e.postalCode} `,e.city]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:85,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:83,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:81,columnNumber:9},void 0),n.jsxDEV("div",{className:"lg:col-span-1 flex flex-col lg:items-end gap-3",children:[n.jsxDEV("div",{className:"text-xs text-slate-400",children:["AjoutÃ© le ",(N=e.createdAt,N?new Date(N).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"N/A")]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:96,columnNumber:11},void 0),n.jsxDEV("div",{className:"flex items-center gap-2",children:[n.jsxDEV(s,{variant:"ghost",size:"sm",onClick:()=>i(e),className:"text-slate-400 hover:text-white hover:bg-slate-700/50",children:n.jsxDEV(d,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:108,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:102,columnNumber:13},void 0),n.jsxDEV(s,{variant:"ghost",size:"sm",onClick:()=>m(e.id),className:"text-red-400 hover:text-red-300 hover:bg-red-500/20",children:n.jsxDEV(b,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:117,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:111,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:101,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:94,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:32,columnNumber:7},void 0),e.notes&&n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:n.jsxDEV("p",{className:"text-sm text-slate-400 italic",children:e.notes},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:126,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:125,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientListItem.jsx",lineNumber:26,columnNumber:5},void 0);var N,p},f=({clients:e,onClose:o})=>{const i=()=>(new Date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return n.jsxDEV(t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50 print:bg-white print:block print:relative print:p-0 print:m-0",children:[n.jsxDEV(t.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white border border-gray-300 rounded-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto print:max-w-none print:max-h-none print:border-0 print:rounded-0 print:shadow-none print:overflow-visible",children:[n.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 print:hidden",children:[n.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Impression des Clients"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:34,columnNumber:11},void 0),n.jsxDEV("div",{className:"flex gap-3",children:[n.jsxDEV(s,{onClick:()=>{globalThis.print()},className:"bg-blue-600 hover:bg-blue-700 text-white",children:[n.jsxDEV(N,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:42,columnNumber:15},void 0),"Imprimer"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:38,columnNumber:13},void 0),n.jsxDEV(s,{variant:"ghost",size:"icon",onClick:o,className:"text-gray-500 hover:text-gray-700",children:n.jsxDEV(m,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:51,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:45,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:37,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:33,columnNumber:9},void 0),n.jsxDEV("div",{className:"p-6 print:p-0 print:m-0",children:[n.jsxDEV("div",{className:"hidden print:block mb-8 text-center",children:[n.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Liste des Clients"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:60,columnNumber:13},void 0),n.jsxDEV("p",{className:"text-gray-600 text-lg",children:["Cabinet Juridique - ",i()]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:63,columnNumber:13},void 0),n.jsxDEV("hr",{className:"mt-4 border-gray-300"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:66,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:59,columnNumber:11},void 0),n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 print:grid-cols-3 print:gap-6 print:mb-6",children:[n.jsxDEV("div",{className:"bg-gray-50 p-4 rounded-lg print:bg-white print:border print:border-gray-300",children:n.jsxDEV("div",{className:"flex items-center justify-between",children:[n.jsxDEV("div",{children:[n.jsxDEV("p",{className:"text-gray-600 text-sm font-medium",children:"Total Clients"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:74,columnNumber:19},void 0),n.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:e.length},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:75,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:73,columnNumber:17},void 0),n.jsxDEV(r,{className:"w-6 h-6 text-blue-500 print:hidden"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:77,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:72,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:71,columnNumber:13},void 0),n.jsxDEV("div",{className:"bg-gray-50 p-4 rounded-lg print:bg-white print:border print:border-gray-300",children:n.jsxDEV("div",{className:"flex items-center justify-between",children:[n.jsxDEV("div",{children:[n.jsxDEV("p",{className:"text-gray-600 text-sm font-medium",children:"Entreprises"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:84,columnNumber:19},void 0),n.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>"company"===e.type).length},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:85,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:83,columnNumber:17},void 0),n.jsxDEV(a,{className:"w-6 h-6 text-green-500 print:hidden"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:89,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:82,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:81,columnNumber:13},void 0),n.jsxDEV("div",{className:"bg-gray-50 p-4 rounded-lg print:bg-white print:border print:border-gray-300",children:n.jsxDEV("div",{className:"flex items-center justify-between",children:[n.jsxDEV("div",{children:[n.jsxDEV("p",{className:"text-gray-600 text-sm font-medium",children:"Particuliers"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:96,columnNumber:19},void 0),n.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>"individual"===e.type).length},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:97,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:95,columnNumber:17},void 0),n.jsxDEV(r,{className:"w-6 h-6 text-purple-500 print:hidden"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:101,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:94,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:93,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:70,columnNumber:11},void 0),n.jsxDEV("div",{className:"space-y-4 print:space-y-2",children:[n.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900 mb-4 print:text-lg print:mb-3",children:["DÃ©tail des Clients (",e.length,")"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:108,columnNumber:13},void 0),e.map((e,s)=>n.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-4 print:border print:border-gray-400 print:rounded-none print:p-3 print:mb-2 print:break-inside-avoid",children:[n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 print:grid-cols-4 print:gap-2",children:[n.jsxDEV("div",{className:"print:col-span-1",children:[n.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:["company"===e.type?n.jsxDEV(a,{className:"w-4 h-4 text-blue-500 print:hidden"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:122,columnNumber:25},void 0):n.jsxDEV(r,{className:"w-4 h-4 text-purple-500 print:hidden"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:124,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-500 uppercase font-medium print:text-[10px]",children:"company"===e.type?"Entreprise":"Particulier"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:126,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:120,columnNumber:21},void 0),n.jsxDEV("h4",{className:"font-semibold text-gray-900 print:text-sm print:font-bold",children:"company"===e.type?e.company:`${e.first_name} ${e.last_name}`},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:130,columnNumber:21},void 0),"company"===e.type&&e.first_name&&n.jsxDEV("p",{className:"text-sm text-gray-600 print:text-xs",children:["Contact: ",e.first_name," ",e.last_name]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:138,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:119,columnNumber:19},void 0),n.jsxDEV("div",{className:"print:col-span-1",children:[n.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[n.jsxDEV(l,{className:"w-4 h-4 text-gray-400 print:hidden"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:147,columnNumber:23},void 0),n.jsxDEV("span",{className:"text-xs text-gray-500 uppercase font-medium print:text-[10px]",children:"Email"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:148,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:146,columnNumber:21},void 0),n.jsxDEV("p",{className:"text-sm text-gray-900 break-all print:text-xs",children:e.email||"Non renseignÃ©"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:152,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:145,columnNumber:19},void 0),n.jsxDEV("div",{className:"print:col-span-1",children:[n.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[n.jsxDEV(c,{className:"w-4 h-4 text-gray-400 print:hidden"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:160,columnNumber:23},void 0),n.jsxDEV("span",{className:"text-xs text-gray-500 uppercase font-medium print:text-[10px]",children:"TÃ©lÃ©phone"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:161,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:159,columnNumber:21},void 0),n.jsxDEV("p",{className:"text-sm text-gray-900 print:text-xs",children:e.phone||"Non renseignÃ©"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:165,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:158,columnNumber:19},void 0),n.jsxDEV("div",{className:"print:col-span-1",children:[n.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[n.jsxDEV(u,{className:"w-4 h-4 text-gray-400 print:hidden"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:173,columnNumber:23},void 0),n.jsxDEV("span",{className:"text-xs text-gray-500 uppercase font-medium print:text-[10px]",children:"Adresse"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:174,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:172,columnNumber:21},void 0),n.jsxDEV("p",{className:"text-sm text-gray-900 print:text-xs",children:e.address&&n.jsxDEV(n.Fragment,{children:[e.address,e.city&&n.jsxDEV(n.Fragment,{children:[", ",e.city]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:182,columnNumber:43},void 0),e.postal_code&&n.jsxDEV(n.Fragment,{children:[" ",e.postal_code]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:183,columnNumber:50},void 0),e.country&&"France"!==e.country&&n.jsxDEV(n.Fragment,{children:[", ",e.country]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:184,columnNumber:77},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:180,columnNumber:25},void 0)||"Non renseignÃ©e"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:178,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:171,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:117,columnNumber:17},void 0),e.notes&&n.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-100 print:mt-2 print:pt-2",children:[n.jsxDEV("p",{className:"text-xs text-gray-500 uppercase font-medium mb-1 print:text-[10px]",children:"Notes"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:194,columnNumber:21},void 0),n.jsxDEV("p",{className:"text-sm text-gray-600 print:text-xs",children:e.notes},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:197,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:193,columnNumber:19},void 0)]},e.id,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:113,columnNumber:15},void 0))]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:107,columnNumber:11},void 0),n.jsxDEV("div",{className:"hidden print:block mt-8 pt-4 border-t border-gray-300 text-center",children:n.jsxDEV("p",{className:"text-xs text-gray-500",children:["Document gÃ©nÃ©rÃ© le ",i()," - Cabinet Juridique - Page ","{page}"," sur ","{pages}"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:208,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:207,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:57,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:26,columnNumber:7},void 0),n.jsxDEV("style",{children:'\n        @media print {\n          * {\n            -webkit-print-color-adjust: exact !important;\n            color-adjust: exact !important;\n          }\n          \n          @page {\n            size: A4;\n            margin: 1.5cm;\n            @top-center {\n              content: "Liste des Clients - Cabinet Juridique";\n            }\n            @bottom-center {\n              content: counter(page) " / " counter(pages);\n            }\n          }\n          \n          body {\n            font-size: 12px;\n            line-height: 1.4;\n          }\n          \n          .print\\:break-inside-avoid {\n            break-inside: avoid;\n          }\n          \n          .print\\:text-xs {\n            font-size: 10px;\n          }\n          \n          .print\\:text-sm {\n            font-size: 11px;\n          }\n          \n          .print\\:text-lg {\n            font-size: 14px;\n          }\n          \n          .print\\:text-\\[10px\\] {\n            font-size: 8px;\n          }\n        }\n      '},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:216,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientsPrintPage.jsx",lineNumber:20,columnNumber:5},void 0)},D=()=>{const[m,l]=e.useState([]),[c,u]=e.useState(!1),[d,b]=e.useState(null),[D,h]=e.useState(""),[E,z]=e.useState(!1),[y,V]=e.useState({open:!1,title:"",message:"",onConfirm:null});e.useEffect(()=>{G()},[]);const G=async()=>{const{data:e,error:n}=await o.from("clients").select("*").order("created_at",{ascending:!1});if(n)i({variant:"destructive",title:"Erreur",description:"Impossible de charger les clients."});else{const n=e.map(e=>({...e,name:v(e),clientCode:e.client_code,firstName:e.first_name,lastName:e.last_name,postalCode:e.postal_code,createdAt:e.created_at}));l(n)}},U=m.filter(e=>{const n=D.toLowerCase();return e.first_name?.toLowerCase().includes(n)||e.last_name?.toLowerCase().includes(n)||e.email?.toLowerCase().includes(n)||e.company?.toLowerCase().includes(n)||e.phone?.includes(D)});return n.jsxDEV("div",{className:"space-y-6",id:"client-manager-section",children:[n.jsxDEV("div",{className:"flex items-center justify-between print:hidden",children:[n.jsxDEV("div",{children:[n.jsxDEV("h1",{className:"text-3xl font-bold text-white mb-2",children:"Gestion des Clients"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:210,columnNumber:11},void 0),n.jsxDEV("p",{className:"text-slate-400",children:"GÃ©rez votre portefeuille client"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:211,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:209,columnNumber:9},void 0),n.jsxDEV("div",{className:"flex gap-2",children:[n.jsxDEV(s,{variant:"outline",onClick:()=>{z(!0)},children:[n.jsxDEV(N,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:215,columnNumber:13},void 0)," Imprimer"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:214,columnNumber:11},void 0),n.jsxDEV(s,{onClick:()=>{b(null),u(!0)},className:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700",children:[n.jsxDEV(p,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:224,columnNumber:13},void 0),"Nouveau Client"]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:217,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:213,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:208,columnNumber:7},void 0),n.jsxDEV("div",{className:"print:hidden grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxDEV(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-lg p-6",children:n.jsxDEV("div",{className:"flex items-center justify-between",children:[n.jsxDEV("div",{children:[n.jsxDEV("p",{className:"text-slate-400 text-sm",children:"Total Clients"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:238,columnNumber:15},void 0),n.jsxDEV("p",{className:"text-3xl font-bold text-white",children:m.length},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:239,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:237,columnNumber:13},void 0),n.jsxDEV(r,{className:"w-8 h-8 text-purple-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:241,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:236,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:231,columnNumber:9},void 0),n.jsxDEV(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-lg p-6",children:n.jsxDEV("div",{className:"flex items-center justify-between",children:[n.jsxDEV("div",{children:[n.jsxDEV("p",{className:"text-slate-400 text-sm",children:"Entreprises"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:253,columnNumber:15},void 0),n.jsxDEV("p",{className:"text-3xl font-bold text-white",children:m.filter(e=>"company"===e.type).length},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:254,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:252,columnNumber:13},void 0),n.jsxDEV(a,{className:"w-8 h-8 text-blue-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:258,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:251,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:245,columnNumber:9},void 0),n.jsxDEV(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-lg p-6",children:n.jsxDEV("div",{className:"flex items-center justify-between",children:[n.jsxDEV("div",{children:[n.jsxDEV("p",{className:"text-slate-400 text-sm",children:"Particuliers"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:270,columnNumber:15},void 0),n.jsxDEV("p",{className:"text-3xl font-bold text-white",children:m.filter(e=>"individual"===e.type).length},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:271,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:269,columnNumber:13},void 0),n.jsxDEV(r,{className:"w-8 h-8 text-green-400"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:275,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:268,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:262,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:230,columnNumber:7},void 0),n.jsxDEV("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6 print:hidden",children:n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:282,columnNumber:11},void 0),n.jsxDEV("input",{type:"text",placeholder:"Rechercher un client par nom, email, tÃ©lÃ©phone ou entreprise...",value:D,onChange:e=>h(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:283,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:281,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:280,columnNumber:7},void 0),n.jsxDEV("div",{className:"hidden lg:grid lg:grid-cols-5 gap-4 px-6 py-3 bg-slate-900/50 backdrop-blur-sm rounded-lg border border-slate-700/50 text-sm text-slate-400 font-medium",children:[n.jsxDEV("div",{children:"Nom & Type"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:295,columnNumber:9},void 0),n.jsxDEV("div",{children:"Email"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:296,columnNumber:9},void 0),n.jsxDEV("div",{children:"TÃ©lÃ©phone"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:297,columnNumber:9},void 0),n.jsxDEV("div",{children:"Ville"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:298,columnNumber:9},void 0),n.jsxDEV("div",{children:"Date & Actions"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:299,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:294,columnNumber:7},void 0),n.jsxDEV("div",{className:"space-y-4",children:U.map((e,s)=>n.jsxDEV(j,{client:e,index:s,onEdit:e=>{b(e),u(!0)},onDelete:e=>{const n=m.find(n=>n.id===e);V({open:!0,title:"Supprimer le client",message:`Voulez-vous vraiment supprimer le client "${n?.name}" ?\n\nCette action est irrÃ©versible.`,onConfirm:()=>{(async e=>{const{error:n}=await o.from("clients").delete().eq("id",e);n?i({variant:"destructive",title:"Erreur",description:"Impossible de supprimer le client."}):(l(m.filter(n=>n.id!==e)),i({title:"ðŸ—‘ï¸ Client supprimÃ©",description:"Le client a Ã©tÃ© supprimÃ© avec succÃ¨s."}))})(e),V({...y,open:!1})}})}},e.id,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:305,columnNumber:11},void 0))},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:303,columnNumber:7},void 0),0===U.length&&n.jsxDEV(t.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12 print:hidden",children:[n.jsxDEV(r,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:335,columnNumber:11},void 0),n.jsxDEV("h3",{className:"text-xl font-semibold text-slate-400 mb-2",children:"Aucun client trouvÃ©"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:336,columnNumber:11},void 0),n.jsxDEV("p",{className:"text-slate-500",children:D?"Essayez de modifier votre recherche":"Commencez par ajouter votre premier client"},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:337,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:330,columnNumber:9},void 0),c&&n.jsxDEV(C,{client:d,onSubmit:d?async e=>{try{if("company"===e.type){if(!e.company||!e.email)return void i({variant:"destructive",title:"Erreur",description:"Le nom de l'entreprise et l'email sont obligatoires."})}else if(!e.firstName||!e.lastName||!e.email)return void i({variant:"destructive",title:"Erreur",description:"Les champs prÃ©nom, nom et email sont obligatoires."});let n;n="company"===e.type?e.company?.trim()||"Entreprise sans nom":`${e.firstName?.trim()||""} ${e.lastName?.trim()||""}`.trim()||"Inconnu";const s={type:e.type,name:n,first_name:e.firstName||null,last_name:e.lastName||null,company:e.company||null,email:e.email,phone:e.phone,address:e.address,city:e.city,postal_code:e.postalCode,country:e.country,notes:e.notes},{data:t,error:r}=await o.from("clients").update(s).eq("id",d.id).select();if(r)return void i({variant:"destructive",title:"Erreur",description:"Impossible de modifier le client. VÃ©rifiez les champs et rÃ©essayez."});const a={...t[0],name:v(t[0]),firstName:t[0].first_name,lastName:t[0].last_name,postalCode:t[0].postal_code,createdAt:t[0].created_at};l(m.map(e=>e.id===d.id?a:e)),b(null),u(!1),i({title:"âœ… Client modifiÃ©",description:"Les informations du client ont Ã©tÃ© mises Ã  jour."})}catch(n){i({variant:"destructive",title:"Erreur",description:"Impossible de modifier le client."})}}:async e=>{try{if("company"===e.type){if(!e.company||!e.email)return void i({variant:"destructive",title:"Erreur",description:"Le nom de l'entreprise et l'email sont obligatoires."})}else if(!e.firstName||!e.lastName||!e.email)return void i({variant:"destructive",title:"Erreur",description:"Les champs prÃ©nom, nom et email sont obligatoires."});let n;n="company"===e.type?e.company?.trim()||"Entreprise sans nom":`${e.firstName?.trim()||""} ${e.lastName?.trim()||""}`.trim()||"Inconnu";const s={type:e.type,name:n,first_name:e.firstName||null,last_name:e.lastName||null,company:e.company||null,email:e.email,phone:e.phone,address:e.address,city:e.city,postal_code:e.postalCode,country:e.country,notes:e.notes},{data:t,error:r}=await o.from("clients").insert([s]).select();if(r)return void i({variant:"destructive",title:"Erreur",description:"Impossible d'ajouter le client. VÃ©rifiez les champs et rÃ©essayez."});const a={...t[0],name:v(t[0]),firstName:t[0].first_name,lastName:t[0].last_name,postalCode:t[0].postal_code,createdAt:t[0].created_at};l([a,...m]),u(!1),i({title:"âœ… Client ajoutÃ©",description:"Le nouveau client a Ã©tÃ© ajoutÃ© avec succÃ¨s."})}catch(n){i({variant:"destructive",title:"Erreur",description:"Impossible d'ajouter le client."})}},onCancel:()=>{u(!1),b(null)}},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:347,columnNumber:9},void 0),E&&n.jsxDEV(f,{clients:m,onClose:()=>z(!1)},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:358,columnNumber:9},void 0),n.jsxDEV(g,{open:y.open,onOpenChange:e=>V({...y,open:e}),title:y.title,message:y.message,onConfirm:y.onConfirm},void 0,!1,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:365,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/gouzman/Documents/Gestion-Cab/src/components/ClientManager.jsx",lineNumber:207,columnNumber:5},void 0)};export{D as default};
